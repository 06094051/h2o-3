

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>h2o.h2o &mdash; H2O  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,300,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="H2O  documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="fa fa-home"> H2O</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">The H2O Python Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#what-is-h2o">What is H2O?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#h2o-cluster-inspection">H2O Cluster Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#objects-in-this-module">Objects In This Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro.html#example-of-h2o-on-hadoop">Example of H2O on Hadoop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../h2o.html">H2O Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../h2o.html#module-h2o.h2o"><code class="docutils literal"><span class="pre">h2o</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data.html">Data In H2O</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../data.html#loading-data-from-a-csv-file">Loading Data From A CSV File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data.html#loading-data-from-a-python-object">Loading Data From A Python Object</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../frame.html">Data Manipulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../frame.html#h2oframe"><code class="docutils literal"><span class="pre">H2OFrame</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../frame.html#groupby"><code class="docutils literal"><span class="pre">GroupBy</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modeling.html">Modeling In H2O</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2oestimator"><code class="docutils literal"><span class="pre">H2OEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2odeeplearningestimator"><code class="docutils literal"><span class="pre">H2ODeepLearningEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2oautoencoderestimator"><code class="docutils literal"><span class="pre">H2OAutoEncoderEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2orandomforestestimator"><code class="docutils literal"><span class="pre">H2ORandomForestEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2ogradientboostingestimator"><code class="docutils literal"><span class="pre">H2OGradientBoostingEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2ogeneralizedlinearestimator"><code class="docutils literal"><span class="pre">H2OGeneralizedLinearEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2ogeneralizedlowrankestimator"><code class="docutils literal"><span class="pre">H2OGeneralizedLowRankEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2okmeansestimator"><code class="docutils literal"><span class="pre">H2OKMeansEstimator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling.html#h2onaivebayesestimator"><code class="docutils literal"><span class="pre">H2ONaiveBayesEstimator</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../model_categories.html">Model Categories</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../model_categories.html#module-h2o.model.model_base"><code class="docutils literal"><span class="pre">ModelBase</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../model_categories.html#module-h2o.model.binomial"><code class="docutils literal"><span class="pre">Binomial</span> <span class="pre">Classification</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../model_categories.html#module-h2o.model.multinomial"><code class="docutils literal"><span class="pre">Multinomial</span> <span class="pre">Classification</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../model_categories.html#module-h2o.model.regression"><code class="docutils literal"><span class="pre">Regression</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../model_categories.html#module-h2o.model.clustering"><code class="docutils literal"><span class="pre">Clustering</span> <span class="pre">Methods</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../model_categories.html#module-h2o.model.autoencoder"><code class="docutils literal"><span class="pre">AutoEncoders</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics.html">Metrics in H2O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../assembly.html">H2OAssembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other.html">REST Interface</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">H2O</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>h2o.h2o</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <h1>Source code for h2o.h2o</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s">&#39;always&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">from</span> <span class="nn">future.standard_library</span> <span class="kn">import</span> <span class="n">install_aliases</span>
<span class="kn">from</span> <span class="nn">past.builtins</span> <span class="kn">import</span> <span class="nb">basestring</span>
<span class="k">try</span><span class="p">:</span>
  <span class="n">install_aliases</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&quot;test.py&quot;</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;File named `test` is conflicting with python module `test` used by the future library.&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">six</span> <span class="kn">import</span> <span class="n">PY3</span>
<span class="kn">from</span> <span class="nn">.utils.shared_utils</span> <span class="kn">import</span> <span class="n">_quoted</span><span class="p">,</span> <span class="n">_is_list_of_lists</span><span class="p">,</span> <span class="n">_gen_header</span><span class="p">,</span> <span class="n">_py_tmp_key</span><span class="p">,</span> <span class="n">quote</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">from</span> <span class="nn">.connection</span> <span class="kn">import</span> <span class="n">H2OConnection</span>
<span class="kn">from</span> <span class="nn">.expr</span> <span class="kn">import</span> <span class="n">ExprNode</span>
<span class="kn">from</span> <span class="nn">.job</span> <span class="kn">import</span> <span class="n">H2OJob</span>
<span class="kn">from</span> <span class="nn">.frame</span> <span class="kn">import</span> <span class="n">H2OFrame</span>
<span class="kn">from</span> <span class="nn">.estimators.estimator_base</span> <span class="kn">import</span> <span class="n">H2OEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.deeplearning</span> <span class="kn">import</span> <span class="n">H2OAutoEncoderEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.deeplearning</span> <span class="kn">import</span> <span class="n">H2ODeepLearningEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.gbm</span> <span class="kn">import</span> <span class="n">H2OGradientBoostingEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.glm</span> <span class="kn">import</span> <span class="n">H2OGeneralizedLinearEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.glrm</span> <span class="kn">import</span> <span class="n">H2OGeneralizedLowRankEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.kmeans</span> <span class="kn">import</span> <span class="n">H2OKMeansEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.naive_bayes</span> <span class="kn">import</span> <span class="n">H2ONaiveBayesEstimator</span>
<span class="kn">from</span> <span class="nn">.estimators.random_forest</span> <span class="kn">import</span> <span class="n">H2ORandomForestEstimator</span>
<span class="kn">from</span> <span class="nn">.transforms.decomposition</span> <span class="kn">import</span> <span class="n">H2OPCA</span>
<span class="kn">from</span> <span class="nn">.transforms.decomposition</span> <span class="kn">import</span> <span class="n">H2OSVD</span>
<span class="kn">from</span> <span class="nn">.h2o_model_builder</span> <span class="kn">import</span> <span class="n">supervised</span><span class="p">,</span> <span class="n">unsupervised</span><span class="p">,</span> <span class="n">_resolve_model</span>


<div class="viewcode-block" id="lazy_import"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.lazy_import">[docs]</a><span class="k">def</span> <span class="nf">lazy_import</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Import a single file or collection of files.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  path : str</span>
<span class="sd">    A path to a data file (remote or local).</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">_import</span><span class="p">(</span><span class="n">p</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">))</span> <span class="k">else</span> <span class="n">_import</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_import</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
  <span class="n">j</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="n">url_suffix</span><span class="o">=</span><span class="s">&quot;ImportFiles&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">j</span><span class="p">[</span><span class="s">&#39;fails&#39;</span><span class="p">]:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;ImportFiles of &quot;</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="s">&quot; failed on &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&#39;fails&#39;</span><span class="p">]))</span>
  <span class="k">return</span> <span class="n">j</span><span class="p">[</span><span class="s">&#39;destination_frames&#39;</span><span class="p">]</span>


<div class="viewcode-block" id="upload_file"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.upload_file">[docs]</a><span class="k">def</span> <span class="nf">upload_file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">destination_frame</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">col_names</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">col_types</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">na_strings</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Upload a dataset at the path given from the local machine to the H2O cluster.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">    path : str</span>
<span class="sd">      A path specifying the location of the data to upload.</span>
<span class="sd">    destination_frame : str, optional</span>
<span class="sd">      The unique hex key assigned to the imported file. If none is given, a key will</span>
<span class="sd">      automatically be generated.</span>
<span class="sd">    header : int, optional</span>
<span class="sd">     -1 means the first line is data, 0 means guess, 1 means first line is header.</span>
<span class="sd">    sep : str, optional</span>
<span class="sd">      The field separator character. Values on each line of the file are separated by</span>
<span class="sd">      this character. If sep = &quot;&quot;, the parser will automatically detect the separator.</span>
<span class="sd">    col_names : list, optional</span>
<span class="sd">      A list of column names for the file.</span>
<span class="sd">    col_types : list or dict, optional</span>
<span class="sd">      A list of types or a dictionary of column names to types to specify whether columns</span>
<span class="sd">      should be forced to a certain type upon import parsing. If a list, the types for</span>
<span class="sd">      elements that are None will be guessed. The possible types a column may have are:</span>
<span class="sd">          &quot;unknown&quot; - this will force the column to be parsed as all NA</span>
<span class="sd">          &quot;uuid&quot;    - the values in the column must be true UUID or will be parsed as NA</span>
<span class="sd">          &quot;string&quot;  - force the column to be parsed as a string</span>
<span class="sd">          &quot;numeric&quot; - force the column to be parsed as numeric. H2O will handle the</span>
<span class="sd">                      compression of the numeric data in the optimal manner.</span>
<span class="sd">          &quot;enum&quot;    - force the column to be parsed as a categorical column.</span>
<span class="sd">          &quot;time&quot;    - force the column to be parsed as a time column. H2O will attempt to</span>
<span class="sd">                      parse the following list of date time formats.</span>
<span class="sd">                        date:</span>
<span class="sd">                          &quot;yyyy-MM-dd&quot;</span>
<span class="sd">                          &quot;yyyy MM dd&quot;</span>
<span class="sd">                          &quot;dd-MMM-yy&quot;</span>
<span class="sd">                          &quot;dd MMM yy&quot;</span>
<span class="sd">                        time:</span>
<span class="sd">                          &quot;HH:mm:ss&quot;</span>
<span class="sd">                          &quot;HH:mm:ss:SSS&quot;</span>
<span class="sd">                          &quot;HH:mm:ss:SSSnnnnnn&quot;</span>
<span class="sd">                          &quot;HH.mm.ss&quot;</span>
<span class="sd">                          &quot;HH.mm.ss.SSS&quot;</span>
<span class="sd">                          &quot;HH.mm.ss.SSSnnnnnn&quot;</span>
<span class="sd">                      Times can also contain &quot;AM&quot; or &quot;PM&quot;.</span>
<span class="sd">    na_strings : list or dict, optional</span>
<span class="sd">      A list of strings, or a list of lists of strings (one list per column), or a</span>
<span class="sd">      dictionary of column names to strings which are to be interpreted as missing values.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    A new H2OFrame instance.</span>

<span class="sd">  Examples</span>
<span class="sd">  --------</span>
<span class="sd">    &gt;&gt;&gt; import h2o as ml</span>
<span class="sd">    &gt;&gt;&gt; ml.upload_file(path=&quot;/path/to/local/data&quot;, destination_frame=&quot;my_local_data&quot;)</span>
<span class="sd">    ...</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">H2OFrame</span><span class="p">()</span><span class="o">.</span><span class="n">_upload_parse</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">destination_frame</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">col_names</span><span class="p">,</span> <span class="n">col_types</span><span class="p">,</span> <span class="n">na_strings</span><span class="p">)</span></div>


<div class="viewcode-block" id="import_file"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.import_file">[docs]</a><span class="k">def</span> <span class="nf">import_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">destination_frame</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">parse</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span>
                <span class="n">col_names</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">col_types</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">na_strings</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Have H2O import a dataset into memory. The path to the data must be a valid path for</span>
<span class="sd">  each node in the H2O cluster. If some node in the H2O cluster cannot see the file, then</span>
<span class="sd">  an exception will be thrown by the H2O cluster.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">    path : str</span>
<span class="sd">      A path specifying the location of the data to import.</span>
<span class="sd">    destination_frame : str, optional</span>
<span class="sd">      The unique hex key assigned to the imported file. If none is given, a key will</span>
<span class="sd">      automatically be generated.</span>
<span class="sd">    parse : bool, optional</span>
<span class="sd">      A logical value indicating whether the file should be parsed after import.</span>
<span class="sd">    header : int, optional</span>
<span class="sd">     -1 means the first line is data, 0 means guess, 1 means first line is header.</span>
<span class="sd">    sep : str, optional</span>
<span class="sd">      The field separator character. Values on each line of the file are separated by this</span>
<span class="sd">      character. If sep = &quot;&quot;, the parser will automatically detect the separator.</span>
<span class="sd">    col_names : list, optional</span>
<span class="sd">      A list of column names for the file.</span>
<span class="sd">    col_types : list or dict, optional</span>
<span class="sd">      A list of types or a dictionary of column names to types to specify whether columns</span>
<span class="sd">      should be forced to a certain type upon import parsing. If a list, the types for</span>
<span class="sd">      elements that are None will be guessed. The possible types a column may have are:</span>
<span class="sd">          &quot;unknown&quot; - this will force the column to be parsed as all NA</span>
<span class="sd">          &quot;uuid&quot;    - the values in the column must be true UUID or will be parsed as NA</span>
<span class="sd">          &quot;string&quot;  - force the column to be parsed as a string</span>
<span class="sd">          &quot;numeric&quot; - force the column to be parsed as numeric. H2O will handle the</span>
<span class="sd">                      compression of the numeric data in the optimal manner.</span>
<span class="sd">          &quot;enum&quot;    - force the column to be parsed as a categorical column.</span>
<span class="sd">          &quot;time&quot;    - force the column to be parsed as a time column. H2O will attempt to</span>
<span class="sd">                      parse the following list of date time formats.</span>
<span class="sd">                        date:</span>
<span class="sd">                          &quot;yyyy-MM-dd&quot;</span>
<span class="sd">                          &quot;yyyy MM dd&quot;</span>
<span class="sd">                          &quot;dd-MMM-yy&quot;</span>
<span class="sd">                          &quot;dd MMM yy&quot;</span>
<span class="sd">                        time:</span>
<span class="sd">                          &quot;HH:mm:ss&quot;</span>
<span class="sd">                          &quot;HH:mm:ss:SSS&quot;</span>
<span class="sd">                          &quot;HH:mm:ss:SSSnnnnnn&quot;</span>
<span class="sd">                          &quot;HH.mm.ss&quot;</span>
<span class="sd">                          &quot;HH.mm.ss.SSS&quot;</span>
<span class="sd">                          &quot;HH.mm.ss.SSSnnnnnn&quot;</span>
<span class="sd">                      Times can also contain &quot;AM&quot; or &quot;PM&quot;.</span>
<span class="sd">    na_strings : list or dict, optional</span>
<span class="sd">      A list of strings, or a list of lists of strings (one list per column), or a</span>
<span class="sd">      dictionary of column names to strings which are to be interpreted as missing values.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    A new H2OFrame instance.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">parse</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">lazy_import</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">H2OFrame</span><span class="p">()</span><span class="o">.</span><span class="n">_import_parse</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">destination_frame</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">col_names</span><span class="p">,</span> <span class="n">col_types</span><span class="p">,</span> <span class="n">na_strings</span><span class="p">)</span></div>


<div class="viewcode-block" id="parse_setup"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.parse_setup">[docs]</a><span class="k">def</span> <span class="nf">parse_setup</span><span class="p">(</span><span class="n">raw_frames</span><span class="p">,</span> <span class="n">destination_frame</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">separator</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">column_types</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">na_strings</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">  During parse setup, the H2O cluster will make several guesses about the attributes of</span>
<span class="sd">  the data. This method allows a user to perform corrective measures by updating the</span>
<span class="sd">  returning dictionary from this method. This dictionary is then fed into `parse_raw` to</span>
<span class="sd">  produce the H2OFrame instance.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">    raw_frames : H2OFrame</span>
<span class="sd">      A collection of imported file frames</span>
<span class="sd">    destination_frame : str, optional</span>
<span class="sd">      The unique hex key assigned to the imported file. If none is given, a key will</span>
<span class="sd">      automatically be generated.</span>
<span class="sd">    parse : bool, optional</span>
<span class="sd">      A logical value indicating whether the file should be parsed after import.</span>
<span class="sd">    header : int, optional</span>
<span class="sd">     -1 means the first line is data, 0 means guess, 1 means first line is header.</span>
<span class="sd">    sep : str, optional</span>
<span class="sd">      The field separator character. Values on each line of the file are separated by this</span>
<span class="sd">       character. If sep = &quot;&quot;, the parser will automatically detect the separator.</span>
<span class="sd">    col_names : list, optional</span>
<span class="sd">      A list of column names for the file.</span>
<span class="sd">    col_types : list or dict, optional</span>
<span class="sd">      A list of types or a dictionary of column names to types to specify whether columns</span>
<span class="sd">      should be forced to a certain type upon import parsing. If a list, the types for</span>
<span class="sd">      elements that are None will be guessed. The possible types a column may have are:</span>
<span class="sd">          &quot;unknown&quot; - this will force the column to be parsed as all NA</span>
<span class="sd">          &quot;uuid&quot;    - the values in the column must be true UUID or will be parsed as NA</span>
<span class="sd">          &quot;string&quot;  - force the column to be parsed as a string</span>
<span class="sd">          &quot;numeric&quot; - force the column to be parsed as numeric. H2O will handle the</span>
<span class="sd">                      compression of the numeric data in the optimal manner.</span>
<span class="sd">          &quot;enum&quot;    - force the column to be parsed as a categorical column.</span>
<span class="sd">          &quot;time&quot;    - force the column to be parsed as a time column. H2O will attempt to</span>
<span class="sd">                      parse the following list of date time formats.</span>
<span class="sd">                        date:</span>
<span class="sd">                          &quot;yyyy-MM-dd&quot;</span>
<span class="sd">                          &quot;yyyy MM dd&quot;</span>
<span class="sd">                          &quot;dd-MMM-yy&quot;</span>
<span class="sd">                          &quot;dd MMM yy&quot;</span>
<span class="sd">                        time:</span>
<span class="sd">                          &quot;HH:mm:ss&quot;</span>
<span class="sd">                          &quot;HH:mm:ss:SSS&quot;</span>
<span class="sd">                          &quot;HH:mm:ss:SSSnnnnnn&quot;</span>
<span class="sd">                          &quot;HH.mm.ss&quot;</span>
<span class="sd">                          &quot;HH.mm.ss.SSS&quot;</span>
<span class="sd">                          &quot;HH.mm.ss.SSSnnnnnn&quot;</span>
<span class="sd">                      Times can also contain &quot;AM&quot; or &quot;PM&quot;.</span>
<span class="sd">      A list of strings, or a list of lists of strings (one list per column), or a</span>
<span class="sd">      dictionary of column names to strings which are to be interpreted as missing values.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    A dictionary is returned containing all of the guesses made by the H2O back end.</span>
<span class="sd">  &quot;&quot;&quot;</span>

  <span class="c"># The H2O backend only accepts things that are quoted</span>
  <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_frames</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span> <span class="n">raw_frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">raw_frames</span><span class="p">]</span>

  <span class="c"># temporary dictionary just to pass the following information to the parser: header, separator</span>
  <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="c"># set header</span>
  <span class="k">if</span> <span class="n">header</span> <span class="o">!=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">header</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;header should be -1, 0, or 1&quot;</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s">&quot;check_header&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">header</span>

  <span class="c"># set separator</span>
  <span class="k">if</span> <span class="n">separator</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">separator</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;separator should be a single character string&quot;</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s">&quot;separator&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>

  <span class="n">j</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">post_json</span><span class="p">(</span><span class="n">url_suffix</span><span class="o">=</span><span class="s">&quot;ParseSetup&quot;</span><span class="p">,</span> <span class="n">source_frames</span><span class="o">=</span><span class="p">[</span><span class="n">_quoted</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">raw_frames</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">destination_frame</span><span class="p">:</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;destination_frame&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">destination_frame</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;%&quot;</span><span class="p">,</span><span class="s">&quot;.&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">,</span><span class="s">&quot;.&quot;</span><span class="p">)</span> <span class="c"># TODO: really should be url encoding...</span>
  <span class="k">if</span> <span class="n">column_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;col_names should be a list&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">column_names</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">]):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;length of col_names should be equal to the number of columns&quot;</span><span class="p">)</span>
    <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">column_names</span>
  <span class="k">if</span> <span class="n">column_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column_types</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
      <span class="c">#overwrite dictionary to ordered list of column types. if user didn&#39;t specify column type for all names, use type provided by backend</span>
      <span class="k">if</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>  <span class="c"># no colnames discovered! (C1, C2, ...)</span>
        <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_gen_header</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;number_columns&quot;</span><span class="p">])</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">column_types</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">])):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;names specified in col_types is not a subset of the column names&quot;</span><span class="p">)</span>
      <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">column_types_list</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">column_types</span><span class="p">:</span>
          <span class="n">column_types_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column_types</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">column_types_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">][</span><span class="n">idx</span><span class="p">])</span>
        <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="n">column_types</span> <span class="o">=</span> <span class="n">column_types_list</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column_types</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">column_types</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">]):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;length of col_types should be equal to the number of columns&quot;</span><span class="p">)</span>
      <span class="n">column_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">column_types</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">column_types</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">else</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">column_types</span><span class="p">))]</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c"># not dictionary or list</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;col_types should be a list of types or a dictionary of column names to types&quot;</span><span class="p">)</span>
    <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">column_types</span>
  <span class="k">if</span> <span class="n">na_strings</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">na_strings</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
      <span class="c">#overwrite dictionary to ordered list of lists of na_strings</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;column names should be specified&quot;</span><span class="p">)</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">na_strings</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">])):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;names specified in na_strings is not a subset of the column names&quot;</span><span class="p">)</span>
      <span class="n">j</span><span class="p">[</span><span class="s">&quot;na_strings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]))]</span>
      <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">na</span> <span class="ow">in</span> <span class="n">na_strings</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">na</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span> <span class="n">na</span> <span class="o">=</span> <span class="p">[</span><span class="n">na</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">na</span><span class="p">:</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;na_strings&quot;</span><span class="p">][</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_quoted</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">_is_list_of_lists</span><span class="p">(</span><span class="n">na_strings</span><span class="p">):</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">na_strings</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">]):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;length of na_strings should be equal to the number of columns&quot;</span><span class="p">)</span>
      <span class="n">j</span><span class="p">[</span><span class="s">&quot;na_strings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">_quoted</span><span class="p">(</span><span class="n">na</span><span class="p">)</span> <span class="k">for</span> <span class="n">na</span> <span class="ow">in</span> <span class="n">col</span><span class="p">]</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">na_strings</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">na_strings</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
      <span class="n">j</span><span class="p">[</span><span class="s">&quot;na_strings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">_quoted</span><span class="p">(</span><span class="n">na</span><span class="p">)</span> <span class="k">for</span> <span class="n">na</span> <span class="ow">in</span> <span class="n">na_strings</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c"># not a dictionary or list</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;na_strings should be a list, a list of lists (one list per column), or a dictionary of column &quot;</span>
                       <span class="s">&quot;names to strings which are to be interpreted as missing values&quot;</span><span class="p">)</span>

  <span class="c">#quote column names and column types also when not specified by user</span>
  <span class="k">if</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]:</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_quoted</span><span class="p">,</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_names&quot;</span><span class="p">]))</span>
  <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_quoted</span><span class="p">,</span> <span class="n">j</span><span class="p">[</span><span class="s">&quot;column_types&quot;</span><span class="p">]))</span>
  <span class="k">return</span> <span class="n">j</span></div>


<div class="viewcode-block" id="parse_raw"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.parse_raw">[docs]</a><span class="k">def</span> <span class="nf">parse_raw</span><span class="p">(</span><span class="n">setup</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">first_line_is_header</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)):</span>
  <span class="sd">&quot;&quot;&quot;Used in conjunction with lazy_import and parse_setup in order to make alterations</span>
<span class="sd">  before parsing.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  setup : dict</span>
<span class="sd">    Result of h2o.parse_setup</span>
<span class="sd">  id : str, optional</span>
<span class="sd">    An id for the frame.</span>
<span class="sd">  first_line_is_header : int, optional</span>
<span class="sd">    -1,0,1 if the first line is to be used as the header</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    H2OFrame</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">if</span> <span class="nb">id</span><span class="p">:</span> <span class="n">setup</span><span class="p">[</span><span class="s">&quot;destination_frame&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_quoted</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;%&quot;</span><span class="p">,</span><span class="s">&quot;.&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">,</span><span class="s">&quot;.&quot;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">first_line_is_header</span> <span class="o">!=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">first_line_is_header</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;first_line_is_header should be -1, 0, or 1&quot;</span><span class="p">)</span>
    <span class="n">setup</span><span class="p">[</span><span class="s">&quot;check_header&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">first_line_is_header</span>
  <span class="n">fr</span> <span class="o">=</span> <span class="n">H2OFrame</span><span class="p">()</span>
  <span class="n">fr</span><span class="o">.</span><span class="n">_parse_raw</span><span class="p">(</span><span class="n">setup</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">fr</span></div>

<span class="k">def</span> <span class="nf">assign</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">xid</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">frame_id</span> <span class="o">==</span> <span class="n">xid</span><span class="p">:</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Desination key must differ input frame&quot;</span><span class="p">)</span>
  <span class="n">data</span><span class="o">.</span><span class="n">_ex</span> <span class="o">=</span> <span class="n">ExprNode</span><span class="p">(</span><span class="s">&quot;assign&quot;</span><span class="p">,</span><span class="n">xid</span><span class="p">,</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">_eval_driver</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
  <span class="n">data</span><span class="o">.</span><span class="n">_ex</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">xid</span>
  <span class="n">data</span><span class="o">.</span><span class="n">_ex</span><span class="o">.</span><span class="n">_children</span> <span class="o">=</span> <span class="bp">None</span>
  <span class="k">return</span> <span class="n">data</span>


<div class="viewcode-block" id="get_future_model"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.get_future_model">[docs]</a><span class="k">def</span> <span class="nf">get_future_model</span><span class="p">(</span><span class="n">future_model</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Waits for the future model to finish building, and then returns the model.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  future_model : H2OModelFuture</span>
<span class="sd">    an H2OModelFuture object</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    H2OEstimator</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">_resolve_model</span><span class="p">(</span><span class="n">future_model</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_model"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.get_model">[docs]</a><span class="k">def</span> <span class="nf">get_model</span><span class="p">(</span><span class="n">model_id</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Return the specified model</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  model_id : str</span>
<span class="sd">    The model identification in h2o</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    Subclass of H2OEstimator</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">model_json</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="s">&quot;Models/&quot;</span><span class="o">+</span><span class="n">model_id</span><span class="p">)[</span><span class="s">&quot;models&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">algo</span> <span class="o">=</span> <span class="n">model_json</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span>
  <span class="k">if</span>   <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;svd&quot;</span><span class="p">:</span>          <span class="n">m</span> <span class="o">=</span> <span class="n">H2OSVD</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;pca&quot;</span><span class="p">:</span>          <span class="n">m</span> <span class="o">=</span> <span class="n">H2OPCA</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;drf&quot;</span><span class="p">:</span>          <span class="n">m</span> <span class="o">=</span> <span class="n">H2ORandomForestEstimator</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;naivebayes&quot;</span><span class="p">:</span>   <span class="n">m</span> <span class="o">=</span> <span class="n">H2ONaiveBayesEstimator</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;kmeans&quot;</span><span class="p">:</span>       <span class="n">m</span> <span class="o">=</span> <span class="n">H2OKMeansEstimator</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;glrm&quot;</span><span class="p">:</span>         <span class="n">m</span> <span class="o">=</span> <span class="n">H2OGeneralizedLowRankEstimator</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;glm&quot;</span><span class="p">:</span>          <span class="n">m</span> <span class="o">=</span> <span class="n">H2OGeneralizedLinearEstimator</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;gbm&quot;</span><span class="p">:</span>          <span class="n">m</span> <span class="o">=</span> <span class="n">H2OGradientBoostingEstimator</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;deeplearning&quot;</span> <span class="ow">and</span> <span class="n">model_json</span><span class="p">[</span><span class="s">&quot;output&quot;</span><span class="p">][</span><span class="s">&quot;model_category&quot;</span><span class="p">]</span><span class="o">==</span><span class="s">&quot;AutoEncoder&quot;</span><span class="p">:</span> <span class="n">m</span> <span class="o">=</span> <span class="n">H2OAutoEncoderEstimator</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">algo</span> <span class="o">==</span> <span class="s">&quot;deeplearning&quot;</span><span class="p">:</span>  <span class="n">m</span> <span class="o">=</span> <span class="n">H2ODeepLearningEstimator</span><span class="p">()</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Unknown algo type: &quot;</span> <span class="o">+</span> <span class="n">algo</span><span class="p">)</span>
  <span class="n">m</span><span class="o">.</span><span class="n">_resolve_model</span><span class="p">(</span><span class="n">model_id</span><span class="p">,</span> <span class="n">model_json</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">m</span></div>


<div class="viewcode-block" id="get_frame"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.get_frame">[docs]</a><span class="k">def</span> <span class="nf">get_frame</span><span class="p">(</span><span class="n">frame_id</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Obtain a handle to the frame in H2O with the frame_id key.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    H2OFrame</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">H2OFrame</span><span class="o">.</span><span class="n">get_frame</span><span class="p">(</span><span class="n">frame_id</span><span class="p">)</span></div>


<div class="viewcode-block" id="ou"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.ou">[docs]</a><span class="k">def</span> <span class="nf">ou</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Where is my baguette!?</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    The name of the baguette. oh uhr uhr huhr</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">stack</span>

  <span class="k">return</span> <span class="n">stack</span><span class="p">()[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span></div>


<div class="viewcode-block" id="no_progress"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.no_progress">[docs]</a><span class="k">def</span> <span class="nf">no_progress</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Disable the progress bar from flushing to stdout. The completed progress bar is</span>
<span class="sd">  printed when a job is complete so as to demarcate a log file.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">H2OJob</span><span class="o">.</span><span class="n">__PROGRESS_BAR__</span> <span class="o">=</span> <span class="bp">False</span></div>


<div class="viewcode-block" id="show_progress"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.show_progress">[docs]</a><span class="k">def</span> <span class="nf">show_progress</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Enable the progress bar. (Progress bar is enabled by default).&quot;&quot;&quot;</span>
  <span class="n">H2OJob</span><span class="o">.</span><span class="n">__PROGRESS_BAR__</span> <span class="o">=</span> <span class="bp">True</span></div>


<div class="viewcode-block" id="log_and_echo"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.log_and_echo">[docs]</a><span class="k">def</span> <span class="nf">log_and_echo</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Log a message on the server-side logs</span>
<span class="sd">  This is helpful when running several pieces of work one after the other on a single H2O</span>
<span class="sd">  cluster and you want to make a notation in the H2O server side log where one piece of</span>
<span class="sd">  work ends and the next piece of work begins.</span>

<span class="sd">  Sends a message to H2O for logging. Generally used for debugging purposes.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  message : str</span>
<span class="sd">    A character string with the message to write to the log.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
  <span class="n">H2OConnection</span><span class="o">.</span><span class="n">post_json</span><span class="p">(</span><span class="s">&quot;LogAndEcho&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">)</span></div>


<div class="viewcode-block" id="remove"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.remove">[docs]</a><span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Remove object(s) from H2O.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  x : H2OFrame, H2OEstimator, or basestring, or a list/tuple of those things.</span>
<span class="sd">    The object(s) or unique id(s) pointing to the object(s) to be removed.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span> <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,)</span>
  <span class="k">for</span> <span class="n">xi</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">xi</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;h2o.remove with no object is not supported, for your protection&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">H2OFrame</span><span class="p">):</span>
      <span class="n">xi_id</span> <span class="o">=</span> <span class="n">xi</span><span class="o">.</span><span class="n">_ex</span><span class="o">.</span><span class="n">_cache</span><span class="o">.</span><span class="n">_id</span>      <span class="c"># String or None</span>
      <span class="k">if</span> <span class="n">xi_id</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="k">return</span>       <span class="c"># Lazy frame, never evaluated, nothing in cluster</span>
      <span class="n">rapids</span><span class="p">(</span><span class="s">&quot;(rm {})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">xi_id</span><span class="p">))</span>
      <span class="n">xi</span><span class="o">.</span><span class="n">_ex</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">H2OEstimator</span><span class="p">):</span>
      <span class="n">H2OConnection</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">&quot;DKV/&quot;</span><span class="o">+</span><span class="n">xi</span><span class="o">.</span><span class="n">model_id</span><span class="p">)</span>
      <span class="n">xi</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
      <span class="c"># string may be a Frame key name part of a rapids session... need to call rm thru rapids here</span>
      <span class="k">try</span><span class="p">:</span>
        <span class="n">rapids</span><span class="p">(</span><span class="s">&quot;(rm {})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">xi</span><span class="p">))</span>
      <span class="k">except</span><span class="p">:</span>
        <span class="n">H2OConnection</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">&quot;DKV/&quot;</span><span class="o">+</span><span class="n">xi</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;input to h2o.remove must one of: H2OFrame, H2OEstimator, or basestring&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="remove_all"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.remove_all">[docs]</a><span class="k">def</span> <span class="nf">remove_all</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Remove all objects from H2O.&quot;&quot;&quot;</span>
  <span class="n">H2OConnection</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">&quot;DKV&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="rapids"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.rapids">[docs]</a><span class="k">def</span> <span class="nf">rapids</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Execute a Rapids expression.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  expr : str</span>
<span class="sd">    The rapids expression (ascii string).</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    The JSON response (as a python dictionary) of the Rapids execution</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">ExprNode</span><span class="o">.</span><span class="n">rapids</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span></div>


<div class="viewcode-block" id="ls"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.ls">[docs]</a><span class="k">def</span> <span class="nf">ls</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;List Keys on an H2O Cluster</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    A list of keys in the current H2O instance.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">H2OFrame</span><span class="o">.</span><span class="n">_expr</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">ExprNode</span><span class="p">(</span><span class="s">&quot;ls&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">as_data_frame</span><span class="p">(</span><span class="n">use_pandas</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></div>


<div class="viewcode-block" id="frame"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.frame">[docs]</a><span class="k">def</span> <span class="nf">frame</span><span class="p">(</span><span class="n">frame_id</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Retrieve metadata for an id that points to a Frame.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  frame_id : str</span>
<span class="sd">    A pointer to a Frame in H2O.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    Python dict containing the frame meta-information</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="s">&quot;Frames/&quot;</span> <span class="o">+</span> <span class="n">frame_id</span> <span class="o">+</span> <span class="n">exclude</span><span class="p">)</span></div>


<div class="viewcode-block" id="frames"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.frames">[docs]</a><span class="k">def</span> <span class="nf">frames</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;Retrieve all the Frames.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    Meta information on the frames</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="s">&quot;Frames&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="download_pojo"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.download_pojo">[docs]</a><span class="k">def</span> <span class="nf">download_pojo</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="n">path</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">get_jar</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Download the POJO for this model to the directory specified by path (no trailing</span>
<span class="sd">  slash!). If path is &quot;&quot;, then dump to screen.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  model : H2OModel</span>
<span class="sd">    Retrieve this model&#39;s scoring POJO.</span>
<span class="sd">  path : str</span>
<span class="sd">    An absolute path to the directory where POJO should be saved.</span>
<span class="sd">  get_jar : bool</span>
<span class="sd">    Retrieve the h2o-genmodel.jar also.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">java</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get</span><span class="p">(</span> <span class="s">&quot;Models.java/&quot;</span><span class="o">+</span><span class="n">model</span><span class="o">.</span><span class="n">model_id</span> <span class="p">)</span>

  <span class="c"># HACK: munge model._id so that it conforms to Java class name. For example, change K-means to K_means.</span>
  <span class="c"># TODO: clients should extract Java class name from header.</span>
  <span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&quot;[+</span><span class="se">\\</span><span class="s">-* !@#$%^&amp;()={}</span><span class="se">\\</span><span class="s">[</span><span class="se">\\</span><span class="s">]|;:&#39;</span><span class="se">\&quot;</span><span class="s">&lt;&gt;,.?/]&quot;</span><span class="p">)</span>
  <span class="n">pojoname</span> <span class="o">=</span> <span class="n">regex</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">&quot;_&quot;</span><span class="p">,</span><span class="n">model</span><span class="o">.</span><span class="n">model_id</span><span class="p">)</span>

  <span class="n">filepath</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">pojoname</span> <span class="o">+</span> <span class="s">&quot;.java&quot;</span>
  <span class="k">print</span><span class="p">(</span><span class="s">&quot;Filepath: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span>
  <span class="k">if</span> <span class="n">path</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">))</span>
  <span class="k">if</span> <span class="n">get_jar</span> <span class="ow">and</span> <span class="n">path</span><span class="o">!=</span><span class="s">&quot;&quot;</span><span class="p">:</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">make_url</span><span class="p">(</span><span class="s">&quot;h2o-genmodel.jar&quot;</span><span class="p">)</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="s">&quot;h2o-genmodel.jar&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">()(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">())</span></div>


<div class="viewcode-block" id="download_csv"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.download_csv">[docs]</a><span class="k">def</span> <span class="nf">download_csv</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Download an H2O data set to a CSV file on the local disk.</span>

<span class="sd">  Warning: Files located on the H2O server may be very large! Make sure you have enough</span>
<span class="sd">  hard drive space to accommodate the entire file.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  data : H2OFrame</span>
<span class="sd">    An H2OFrame object to be downloaded.</span>
<span class="sd">  filename : str</span>
<span class="sd">    A string indicating the name that the CSV file should be should be saved to.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">H2OFrame</span><span class="p">):</span>
    <span class="k">raise</span> <span class="ne">ValueError</span>
  <span class="n">url</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">make_url</span><span class="p">(</span><span class="s">&quot;DownloadDataset&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;?frame_id={}&amp;hex_string=false&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">frame_id</span><span class="p">)</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">urlopen</span><span class="p">()(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span></div>


<div class="viewcode-block" id="download_all_logs"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.download_all_logs">[docs]</a><span class="k">def</span> <span class="nf">download_all_logs</span><span class="p">(</span><span class="n">dirname</span><span class="o">=</span><span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Download H2O Log Files to Disk</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  dirname : str, optional</span>
<span class="sd">    A character string indicating the directory that the log file should be saved in.</span>
<span class="sd">  filename : str, optional</span>
<span class="sd">    A string indicating the name that the CSV file should be</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    Path of logs written.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;http://{}:{}/Logs/download&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">H2OConnection</span><span class="o">.</span><span class="n">ip</span><span class="p">(),</span><span class="n">H2OConnection</span><span class="o">.</span><span class="n">port</span><span class="p">())</span>
  <span class="n">opener</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">()</span>
  <span class="n">response</span> <span class="o">=</span> <span class="n">opener</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dirname</span><span class="p">):</span> <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">dirname</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">PY3</span><span class="p">:</span> <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">_headers</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>   <span class="n">headers</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">headers</span>
    <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">:</span>
      <span class="k">if</span> <span class="s">&#39;filename=&#39;</span> <span class="ow">in</span> <span class="n">h</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;filename=&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">break</span>
  <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span><span class="n">filename</span><span class="p">)</span>
  <span class="n">response</span> <span class="o">=</span> <span class="n">opener</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

  <span class="k">print</span><span class="p">(</span><span class="s">&quot;Writing H2O logs to &quot;</span> <span class="o">+</span> <span class="n">path</span><span class="p">)</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">path</span></div>


<div class="viewcode-block" id="save_model"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.save_model">[docs]</a><span class="k">def</span> <span class="nf">save_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Save an H2O Model Object to Disk.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  model :  H2OModel</span>
<span class="sd">    The model object to save.</span>
<span class="sd">  path : str</span>
<span class="sd">    A path to save the model at (hdfs, s3, local)</span>
<span class="sd">  force : bool</span>
<span class="sd">    Overwrite destination directory in case it exists or throw exception if set to false.</span>

<span class="sd">  :return: the path of the saved model (string)</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="k">if</span> <span class="n">path</span><span class="o">==</span><span class="s">&quot;&quot;</span> <span class="k">else</span> <span class="n">path</span><span class="p">,</span><span class="n">model</span><span class="o">.</span><span class="n">model_id</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="s">&quot;Models.bin/&quot;</span><span class="o">+</span><span class="n">model</span><span class="o">.</span><span class="n">model_id</span><span class="p">,</span><span class="nb">dir</span><span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span><span class="n">_rest_version</span><span class="o">=</span><span class="mi">99</span><span class="p">)[</span><span class="s">&quot;dir&quot;</span><span class="p">]</span></div>


<div class="viewcode-block" id="load_model"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.load_model">[docs]</a><span class="k">def</span> <span class="nf">load_model</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Load a saved H2O model from disk.</span>
<span class="sd">  Example:</span>
<span class="sd">      &gt;&gt;&gt; path = h2o.save_model(my_model,dir=my_path)</span>
<span class="sd">      &gt;&gt;&gt; h2o.load_model(path)                         # use the result of save_model</span>


<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  path : str</span>
<span class="sd">    The full path of the H2O Model to be imported.</span>

<span class="sd">  :return: the model</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">post_json</span><span class="p">(</span><span class="s">&quot;Models.bin/&quot;</span><span class="p">,</span><span class="nb">dir</span><span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">_rest_version</span><span class="o">=</span><span class="mi">99</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">get_model</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="s">&#39;models&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;model_id&#39;</span><span class="p">][</span><span class="s">&#39;name&#39;</span><span class="p">])</span></div>


<div class="viewcode-block" id="cluster_status"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.cluster_status">[docs]</a><span class="k">def</span> <span class="nf">cluster_status</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  TODO: This isn&#39;t really a cluster status... it&#39;s a node status check for the node we&#39;re connected to.</span>
<span class="sd">  This is possibly confusing because this can come back without warning,</span>
<span class="sd">  but if a user tries to do any remoteSend, they will get a &quot;cloud sick warning&quot;</span>

<span class="sd">  Retrieve information on the status of the cluster running H2O.</span>
<span class="sd">  :return: None</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">cluster_json</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="s">&quot;Cloud?skip_ticks=true&quot;</span><span class="p">)</span>

  <span class="k">print</span><span class="p">(</span><span class="s">&quot;Version: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cluster_json</span><span class="p">[</span><span class="s">&#39;version&#39;</span><span class="p">]))</span>
  <span class="k">print</span><span class="p">(</span><span class="s">&quot;Cloud name: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cluster_json</span><span class="p">[</span><span class="s">&#39;cloud_name&#39;</span><span class="p">]))</span>
  <span class="k">print</span><span class="p">(</span><span class="s">&quot;Cloud size: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cluster_json</span><span class="p">[</span><span class="s">&#39;cloud_size&#39;</span><span class="p">]))</span>
  <span class="k">if</span> <span class="n">cluster_json</span><span class="p">[</span><span class="s">&#39;locked&#39;</span><span class="p">]:</span> <span class="k">print</span><span class="p">(</span><span class="s">&quot;Cloud is locked</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s">&quot;Accepting new members</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">cluster_json</span><span class="p">[</span><span class="s">&#39;nodes&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">cluster_json</span><span class="p">[</span><span class="s">&#39;nodes&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;No nodes found&quot;</span><span class="p">)</span>
    <span class="k">return</span>

  <span class="n">status</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">cluster_json</span><span class="p">[</span><span class="s">&#39;nodes&#39;</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span><span class="n">node</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
      <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;h2o&quot;</span><span class="p">,</span> <span class="s">&quot;healthy&quot;</span><span class="p">,</span> <span class="s">&quot;last_ping&quot;</span><span class="p">,</span> <span class="s">&quot;num_cpus&quot;</span><span class="p">,</span> <span class="s">&quot;sys_load&quot;</span><span class="p">,</span> 
               <span class="s">&quot;mem_value_size&quot;</span><span class="p">,</span> <span class="s">&quot;free_mem&quot;</span><span class="p">,</span> <span class="s">&quot;pojo_mem&quot;</span><span class="p">,</span> <span class="s">&quot;swap_mem&quot;</span><span class="p">,</span>
               <span class="s">&quot;free_disk&quot;</span><span class="p">,</span> <span class="s">&quot;max_disk&quot;</span><span class="p">,</span> <span class="s">&quot;pid&quot;</span><span class="p">,</span> <span class="s">&quot;num_keys&quot;</span><span class="p">,</span> <span class="s">&quot;tcps_active&quot;</span><span class="p">,</span>
               <span class="s">&quot;open_fds&quot;</span><span class="p">,</span> <span class="s">&quot;rpcs_active&quot;</span><span class="p">]:</span> <span class="n">status</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="s">&quot;: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">status</span><span class="p">))</span>
    <span class="k">print</span><span class="p">()</span></div>


<div class="viewcode-block" id="init"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.init">[docs]</a><span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="n">ip</span><span class="o">=</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">54321</span><span class="p">,</span> <span class="n">start_h2o</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">enable_assertions</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
         <span class="n">license</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">nthreads</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_mem_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">min_mem_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">ice_root</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> 
         <span class="n">strict_version_check</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">proxy</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">insecure</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> 
         <span class="n">password</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_mem_size_GB</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">min_mem_size_GB</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxies</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Initiate an H2O connection to the specified ip and port.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  ip : str</span>
<span class="sd">    A string representing the hostname or IP address of the server where H2O is running.</span>
<span class="sd">  port : int</span>
<span class="sd">    A port, default is 54321</span>
<span class="sd">  start_h2o : bool</span>
<span class="sd">    A boolean dictating whether this module should start the H2O jvm. An attempt is made</span>
<span class="sd">    anyways if _connect fails.</span>
<span class="sd">  enable_assertions : bool</span>
<span class="sd">    If start_h2o, pass `-ea` as a VM option.</span>
<span class="sd">  license : str</span>
<span class="sd">    If not None, is a path to a license file.</span>
<span class="sd">  nthreads : int</span>
<span class="sd">    Number of threads in the thread pool. This relates very closely to the number of CPUs used. </span>
<span class="sd">    -1 means use all CPUs on the host. A positive integer specifies the number of CPUs directly. </span>
<span class="sd">    This value is only used when Python starts H2O.</span>
<span class="sd">  max_mem_size : int</span>
<span class="sd">    Maximum heap size (jvm option Xmx) in gigabytes.</span>
<span class="sd">  min_mem_size : int</span>
<span class="sd">    Minimum heap size (jvm option Xms) in gigabytes.</span>
<span class="sd">  ice_root : str</span>
<span class="sd">    A temporary directory (default location is determined by tempfile.mkdtemp()) to hold</span>
<span class="sd">    H2O log files.</span>
<span class="sd">  strict_version_check : bool </span>
<span class="sd">    Setting this to False is unsupported and should only be done when advised by technical support.</span>
<span class="sd">  proxy : dict</span>
<span class="sd">    A dictionary with keys &#39;ftp&#39;, &#39;http&#39;, &#39;https&#39; and values that correspond to a proxy path.</span>
<span class="sd">  https : bool</span>
<span class="sd">    Set this to True to use https instead of http.</span>
<span class="sd">  insecure : bool</span>
<span class="sd">    Set this to True to disable SSL certificate checking.</span>
<span class="sd">  username : str</span>
<span class="sd">    Username to login with.</span>
<span class="sd">  password : str</span>
<span class="sd">    Password to login with.</span>
<span class="sd">  max_mem_size_GB : DEPRECATED</span>
<span class="sd">    Use max_mem_size instead.</span>
<span class="sd">  min_mem_size_GB : DEPRECATED</span>
<span class="sd">    Use min_mem_size instead.</span>
<span class="sd">  proxies : DEPRECATED</span>
<span class="sd">    Use proxy instead.</span>
<span class="sd">  size : DEPRECATED</span>
<span class="sd">    Size is deprecated.</span>

<span class="sd">  Examples</span>
<span class="sd">  --------</span>
<span class="sd">  Using the &#39;proxy&#39; parameter</span>

<span class="sd">  &gt;&gt;&gt; import h2o</span>
<span class="sd">  &gt;&gt;&gt; import urllib</span>
<span class="sd">  &gt;&gt;&gt; proxy_dict = urllib.getproxies()</span>
<span class="sd">  &gt;&gt;&gt; h2o.init(proxy=proxy_dict)</span>
<span class="sd">  Starting H2O JVM and connecting: ............... Connection successful!</span>

<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">H2OConnection</span><span class="p">(</span><span class="n">ip</span><span class="o">=</span><span class="n">ip</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span><span class="n">start_h2o</span><span class="o">=</span><span class="n">start_h2o</span><span class="p">,</span><span class="n">enable_assertions</span><span class="o">=</span><span class="n">enable_assertions</span><span class="p">,</span><span class="n">license</span><span class="o">=</span><span class="n">license</span><span class="p">,</span>
                <span class="n">nthreads</span><span class="o">=</span><span class="n">nthreads</span><span class="p">,</span><span class="n">max_mem_size</span><span class="o">=</span><span class="n">max_mem_size</span><span class="p">,</span><span class="n">min_mem_size</span><span class="o">=</span><span class="n">min_mem_size</span><span class="p">,</span><span class="n">ice_root</span><span class="o">=</span><span class="n">ice_root</span><span class="p">,</span>
                <span class="n">strict_version_check</span><span class="o">=</span><span class="n">strict_version_check</span><span class="p">,</span><span class="n">proxy</span><span class="o">=</span><span class="n">proxy</span><span class="p">,</span><span class="n">https</span><span class="o">=</span><span class="n">https</span><span class="p">,</span><span class="n">insecure</span><span class="o">=</span><span class="n">insecure</span><span class="p">,</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span><span class="n">max_mem_size_GB</span><span class="o">=</span><span class="n">max_mem_size_GB</span><span class="p">,</span><span class="n">min_mem_size_GB</span><span class="o">=</span><span class="n">min_mem_size_GB</span><span class="p">,</span><span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
  <span class="k">return</span> <span class="bp">None</span></div>


<div class="viewcode-block" id="export_file"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.export_file">[docs]</a><span class="k">def</span> <span class="nf">export_file</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Export a given H2OFrame to a path on the machine this python session is currently</span>
<span class="sd">  connected to. To view the current session, call h2o.cluster_info().</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  frame : H2OFrame</span>
<span class="sd">    The Frame to save to disk.</span>
<span class="sd">  path : str</span>
<span class="sd">    The path to the save point on disk.</span>
<span class="sd">  force : bool</span>
<span class="sd">    Overwrite any preexisting file with the same path</span>

<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">H2OJob</span><span class="p">(</span><span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="s">&quot;Frames/&quot;</span><span class="o">+</span><span class="n">frame</span><span class="o">.</span><span class="n">frame_id</span><span class="o">+</span><span class="s">&quot;/export/&quot;</span><span class="o">+</span><span class="n">path</span><span class="o">+</span><span class="s">&quot;/overwrite/&quot;</span><span class="o">+</span><span class="p">(</span><span class="s">&quot;true&quot;</span> <span class="k">if</span> <span class="n">force</span> <span class="k">else</span> <span class="s">&quot;false&quot;</span><span class="p">)),</span> <span class="s">&quot;Export File&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">poll</span><span class="p">()</span></div>


<div class="viewcode-block" id="cluster_info"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.cluster_info">[docs]</a><span class="k">def</span> <span class="nf">cluster_info</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Display the current H2O cluster information.</span>

<span class="sd">  :return: None</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">H2OConnection</span><span class="o">.</span><span class="n">_cluster_info</span><span class="p">()</span></div>


<div class="viewcode-block" id="shutdown"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.shutdown">[docs]</a><span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="n">conn</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Shut down the specified instance. All data will be lost.</span>
<span class="sd">  This method checks if H2O is running at the specified IP address and port, and if it is, shuts down that H2O instance.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  conn : H2OConnection</span>
<span class="sd">    An H2OConnection object containing the IP address and port of the server running H2O.</span>
<span class="sd">  prompt : bool</span>
<span class="sd">    A logical value indicating whether to prompt the user before shutting down the H2O server.</span>

<span class="sd">  :return: None</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">if</span> <span class="n">conn</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">current_connection</span><span class="p">()</span>
  <span class="n">H2OConnection</span><span class="o">.</span><span class="n">_shutdown</span><span class="p">(</span><span class="n">conn</span><span class="o">=</span><span class="n">conn</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">)</span></div>


<div class="viewcode-block" id="deeplearning"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.deeplearning">[docs]</a><span class="k">def</span> <span class="nf">deeplearning</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">model_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">overwrite_with_best_model</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">checkpoint</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">autoencoder</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">use_all_factor_levels</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">activation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">hidden</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">epochs</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">train_samples_per_iteration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">target_ratio_comm_to_comp</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">adaptive_rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rho</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">epsilon</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rate_annealing</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rate_decay</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">momentum_start</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">momentum_ramp</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">momentum_stable</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nesterov_accelerated_gradient</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">input_dropout_ratio</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">hidden_dropout_ratios</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">l1</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">l2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_w2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">initial_weight_distribution</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">initial_weight_scale</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">loss</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">distribution</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">tweedie_power</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">score_interval</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">score_training_samples</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">score_validation_samples</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">score_duty_cycle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">classification_stop</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">regression_stop</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">stopping_rounds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stopping_metric</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stopping_tolerance</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">quiet_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_confusion_matrix_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_hit_ratio_k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">balance_classes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">class_sampling_factors</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">max_after_balance_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">score_validation_sampling</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">diagnostics</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">variable_importances</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">fast_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">ignore_const_cols</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">force_load_balance</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">replicate_training_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">single_node_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">shuffle_training_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">col_major</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">average_activation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sparsity_beta</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">max_categorical_features</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">reproducible</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">export_weights_and_biases</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">offset_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">weights_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">nfolds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_assignment</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">keep_cross_validation_predictions</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Build a supervised Deep Learning model</span>
<span class="sd">  Performs Deep Learning neural networks on an H2OFrame</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  x : H2OFrame</span>
<span class="sd">    An H2OFrame containing the predictors in the model.</span>
<span class="sd">  y : H2OFrame</span>
<span class="sd">    An H2OFrame of the response variable in the model.</span>
<span class="sd">  training_frame : H2OFrame</span>
<span class="sd">    (Optional) An H2OFrame. Only used to retrieve weights, offset, or nfolds columns, if they aren&#39;t already provided in x.</span>
<span class="sd">  model_id : str</span>
<span class="sd">    (Optional) The unique id assigned to the resulting model. If none is given, an id will automatically be generated.</span>
<span class="sd">  overwrite_with_best_model : bool</span>
<span class="sd">    Logical. If True, overwrite the final model with the best model found during training. Defaults to True.</span>
<span class="sd">  validation_frame : H2OFrame</span>
<span class="sd">    (Optional) An H2OFrame object indicating the validation dataset used to construct the confusion matrix. If left blank, this defaults to the</span>
<span class="sd">    training data when nfolds = 0</span>
<span class="sd">  checkpoint : H2ODeepLearningModel</span>
<span class="sd">    &quot;Model checkpoint (either key or H2ODeepLearningModel) to resume training with.&quot;</span>
<span class="sd">  autoencoder : bool</span>
<span class="sd">    Enable auto-encoder for model building.</span>
<span class="sd">  use_all_factor_levels : bool</span>
<span class="sd">    Logical. Use all factor levels of categorical variance. Otherwise the first factor level is omitted (without loss of accuracy). Useful for variable</span>
<span class="sd">    importances and auto-enabled for autoencoder.</span>
<span class="sd">  activation : str</span>
<span class="sd">    A string indicating the activation function to use. Must be either &quot;Tanh&quot;, &quot;TanhWithDropout&quot;, &quot;Rectifier&quot;, &quot;RectifierWithDropout&quot;, &quot;Maxout&quot;, or &quot;MaxoutWithDropout&quot;</span>
<span class="sd">  hidden : list</span>
<span class="sd">    Hidden layer sizes (e.g. c(100,100))</span>
<span class="sd">  epochs : float</span>
<span class="sd">    How many times the dataset should be iterated (streamed), can be fractional</span>
<span class="sd">  train_samples_per_iteration : int</span>
<span class="sd">    Number of training samples (globally) per MapReduce iteration. Special values are: 0 one epoch; -1 all available data (e.g., replicated training data);</span>
<span class="sd">    or -2 auto-tuning (default)</span>
<span class="sd">  target_ratio_comm_to_comp : float</span>
<span class="sd">    Target ratio of communication overhead to computation. Only for multi-node operation and train_samples_per_iteration=-2 (auto-tuning).</span>
<span class="sd">    Higher values can lead to faster convergence.</span>
<span class="sd">  seed : int</span>
<span class="sd">    Seed for random numbers (affects sampling) - Note: only reproducible when running single threaded</span>
<span class="sd">  adaptive_rate : bool</span>
<span class="sd">    Logical. Adaptive learning rate (ADAELTA)</span>
<span class="sd">  rho : float</span>
<span class="sd">    Adaptive learning rate time decay factor (similarity to prior updates)</span>
<span class="sd">  epsilon : float</span>
<span class="sd">    Adaptive learning rate parameter, similar to learn rate annealing during initial training phase. Typical values are between 1.0e-10 and 1.0e-4</span>
<span class="sd">  rate : float</span>
<span class="sd">    Learning rate (higher =&gt; less stable, lower =&gt; slower convergence)</span>
<span class="sd">  rate_annealing : float</span>
<span class="sd">    Learning rate annealing: \eqn{(rate)/(1 + rate_annealing*samples)</span>
<span class="sd">  rate_decay : float</span>
<span class="sd">    Learning rate decay factor between layers (N-th layer: \eqn{rate*\alpha^(N-1))</span>
<span class="sd">  momentum_start : float</span>
<span class="sd">    Initial momentum at the beginning of training (try 0.5)</span>
<span class="sd">  momentum_ramp : float</span>
<span class="sd">    Number of training samples for which momentum increases</span>
<span class="sd">  momentum_stable : float</span>
<span class="sd">    Final momentum after the amp is over (try 0.99)</span>
<span class="sd">  nesterov_accelerated_gradient : bool</span>
<span class="sd">    Logical. Use Nesterov accelerated gradient (recommended)</span>
<span class="sd">  input_dropout_ratio : float</span>
<span class="sd">    A fraction of the features for each training row to be omitted from training in order to improve generalization (dimension sampling).</span>
<span class="sd">  hidden_dropout_ratios : float</span>
<span class="sd">    Input layer dropout ratio (can improve generalization) specify one value per hidden layer, defaults to 0.5</span>
<span class="sd">  l1 : float</span>
<span class="sd">    L1 regularization (can add stability and improve generalization, causes many weights to become 0)</span>
<span class="sd">  l2 : float</span>
<span class="sd">    L2 regularization (can add stability and improve generalization, causes many weights to be small)</span>
<span class="sd">  max_w2 : float</span>
<span class="sd">    Constraint for squared sum of incoming weights per unit (e.g. Rectifier)</span>
<span class="sd">  initial_weight_distribution : str</span>
<span class="sd">    Can be &quot;Uniform&quot;, &quot;UniformAdaptive&quot;, or &quot;Normal&quot;</span>
<span class="sd">  initial_weight_scale : str</span>
<span class="sd">    Uniform: -value ... value, Normal: stddev</span>
<span class="sd">  loss : str</span>
<span class="sd">    Loss function: &quot;Automatic&quot;, &quot;CrossEntropy&quot; (for classification only), &quot;Quadratic&quot;, &quot;Absolute&quot; (experimental) or &quot;Huber&quot; (experimental)</span>
<span class="sd">  distribution : str</span>
<span class="sd">     A character string. The distribution function of the response. Must be &quot;AUTO&quot;, &quot;bernoulli&quot;, &quot;multinomial&quot;, &quot;poisson&quot;, &quot;gamma&quot;, &quot;tweedie&quot;, &quot;laplace&quot;,</span>
<span class="sd">     &quot;huber&quot; or &quot;gaussian&quot;</span>
<span class="sd">  tweedie_power : float</span>
<span class="sd">    Tweedie power (only for Tweedie distribution, must be between 1 and 2)</span>
<span class="sd">  score_interval : int</span>
<span class="sd">    Shortest time interval (in secs) between model scoring</span>
<span class="sd">  score_training_samples : int</span>
<span class="sd">    Number of training set samples for scoring (0 for all)</span>
<span class="sd">  score_validation_samples : int</span>
<span class="sd">    Number of validation set samples for scoring (0 for all)</span>
<span class="sd">  score_duty_cycle : float</span>
<span class="sd">    Maximum duty cycle fraction for scoring (lower: more training, higher: more scoring)</span>
<span class="sd">  classification_stop : float</span>
<span class="sd">    Stopping criterion for classification error fraction on training data (-1 to disable)</span>
<span class="sd">  regression_stop : float</span>
<span class="sd">    Stopping criterion for regression error (MSE) on training data (-1 to disable)</span>
<span class="sd">  stopping_rounds : int</span>
<span class="sd">    Early stopping based on convergence of stopping_metric.</span>
<span class="sd">    Stop if simple moving average of length k of the stopping_metric does not improve</span>
<span class="sd">    (by stopping_tolerance) for k=stopping_rounds scoring events.</span>
<span class="sd">    Can only trigger after at least 2k scoring events. Use 0 to disable.</span>
<span class="sd">  stopping_metric : str</span>
<span class="sd">    Metric to use for convergence checking, only for _stopping_rounds &gt; 0</span>
<span class="sd">    Can be one of &quot;AUTO&quot;, &quot;deviance&quot;, &quot;logloss&quot;, &quot;MSE&quot;, &quot;AUC&quot;, &quot;r2&quot;, &quot;misclassification&quot;.</span>
<span class="sd">  stopping_tolerance : float</span>
<span class="sd">    Relative tolerance for metric-based stopping criterion (stop if relative improvement is not at least this much)</span>
<span class="sd">  quiet_mode : bool</span>
<span class="sd">    Enable quiet mode for less output to standard output</span>
<span class="sd">  max_confusion_matrix_size : int</span>
<span class="sd">    Max. size (number of classes) for confusion matrices to be shown</span>
<span class="sd">  max_hit_ratio_k : float</span>
<span class="sd">    Max number (top K) of predictions to use for hit ratio computation(for multi-class only, 0 to disable)</span>
<span class="sd">  balance_classes : bool</span>
<span class="sd">    Balance training data class counts via over/under-sampling (for imbalanced data)</span>
<span class="sd">  class_sampling_factors : list</span>
<span class="sd">    Desired over/under-sampling ratios per class (in lexicographic order). If not specified, sampling factors will be automatically computed to</span>
<span class="sd">    obtain class balance during training. Requires balance_classes.</span>
<span class="sd">  max_after_balance_size : float</span>
<span class="sd">    Maximum relative size of the training data after balancing class counts (can be less than 1.0)</span>
<span class="sd">  score_validation_sampling :</span>
<span class="sd">    Method used to sample validation dataset for scoring</span>
<span class="sd">  diagnostics : bool</span>
<span class="sd">    Enable diagnostics for hidden layers</span>
<span class="sd">  variable_importances : bool</span>
<span class="sd">    Compute variable importances for input features (Gedeon method) - can be slow for large networks)</span>
<span class="sd">  fast_mode : bool</span>
<span class="sd">    Enable fast mode (minor approximations in back-propagation)</span>
<span class="sd">  ignore_const_cols : bool</span>
<span class="sd">    Ignore constant columns (no information can be gained anyway)</span>
<span class="sd">  force_load_balance : bool</span>
<span class="sd">    Force extra load balancing to increase training speed for small datasets (to keep all cores busy)</span>
<span class="sd">  replicate_training_data : bool</span>
<span class="sd">    Replicate the entire training dataset onto every node for faster training</span>
<span class="sd">  single_node_mode : bool</span>
<span class="sd">    Run on a single node for fine-tuning of model parameters</span>
<span class="sd">  shuffle_training_data : bool</span>
<span class="sd">    Enable shuffling of training data (recommended if training data is replicated and train_samples_per_iteration is close to \eqn{numRows*numNodes</span>
<span class="sd">  sparse : bool</span>
<span class="sd">    Sparse data handling (more efficient for data with lots of 0 values)</span>
<span class="sd">  col_major : bool</span>
<span class="sd">    Use a column major weight matrix for input layer. Can speed up forward propagation, but might slow down backpropagation (Experimental)</span>
<span class="sd">  average_activation : float</span>
<span class="sd">    Average activation for sparse auto-encoder (Experimental)</span>
<span class="sd">  sparsity_beta : bool</span>
<span class="sd">    Sparsity regularization (Experimental)</span>
<span class="sd">  max_categorical_features : int</span>
<span class="sd">    Max. number of categorical features, enforced via hashing Experimental)</span>
<span class="sd">  reproducible : bool</span>
<span class="sd">    Force reproducibility on small data (will be slow - only uses 1 thread)</span>
<span class="sd">  export_weights_and_biases : bool</span>
<span class="sd">    Whether to export Neural Network weights and biases to H2O Frames&quot;</span>
<span class="sd">  offset_column : H2OFrame</span>
<span class="sd">    Specify the offset column.</span>
<span class="sd">  weights_column : H2OFrame</span>
<span class="sd">    Specify the weights column.</span>
<span class="sd">  nfolds : int</span>
<span class="sd">    (Optional) Number of folds for cross-validation. If nfolds &gt;= 2, then validation must remain empty.</span>
<span class="sd">  fold_column : H2OFrame</span>
<span class="sd">    (Optional) Column with cross-validation fold index assignment per observation</span>
<span class="sd">  fold_assignment : str</span>
<span class="sd">    Cross-validation fold assignment scheme, if fold_column is not specified Must be &quot;AUTO&quot;, &quot;Random&quot; or &quot;Modulo&quot;</span>
<span class="sd">  keep_cross_validation_predictions : bool</span>
<span class="sd">    Whether to keep the predictions of the cross-validation models</span>

<span class="sd">  :return: Return a new classifier or regression model.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.deeplearning` is deprecated. Use the estimators sub module to build an H2ODeepLearningEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;y&quot;</span><span class="p">,</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;deeplearning&quot;</span>
  <span class="k">return</span> <span class="n">supervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="autoencoder"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.autoencoder">[docs]</a><span class="k">def</span> <span class="nf">autoencoder</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">model_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">overwrite_with_best_model</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">checkpoint</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">use_all_factor_levels</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">activation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">hidden</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">epochs</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">train_samples_per_iteration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">target_ratio_comm_to_comp</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">adaptive_rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rho</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">epsilon</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rate_annealing</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">rate_decay</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">momentum_start</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">momentum_ramp</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">momentum_stable</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nesterov_accelerated_gradient</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">input_dropout_ratio</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">hidden_dropout_ratios</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">l1</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">l2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_w2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">initial_weight_distribution</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">initial_weight_scale</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">loss</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">distribution</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">tweedie_power</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">score_interval</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">score_training_samples</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">score_duty_cycle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">classification_stop</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">regression_stop</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">quiet_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">max_confusion_matrix_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_hit_ratio_k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">balance_classes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">class_sampling_factors</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">max_after_balance_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">diagnostics</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">variable_importances</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">fast_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">ignore_const_cols</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">force_load_balance</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">replicate_training_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">single_node_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">shuffle_training_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">col_major</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">average_activation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sparsity_beta</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">max_categorical_features</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">reproducible</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">export_weights_and_biases</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Build unsupervised auto encoder using H2O Deeplearning</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">    x : H2OFrame</span>
<span class="sd">      An H2OFrame containing the predictors in the model.</span>
<span class="sd">    training_frame : H2OFrame</span>
<span class="sd">      (Optional) An H2OFrame. Only used to retrieve weights, offset, or nfolds columns, if they aren&#39;t already provided in x.</span>
<span class="sd">    model_id : str</span>
<span class="sd">      (Optional) The unique id assigned to the resulting model. If none is given, an id will automatically be generated.</span>
<span class="sd">    overwrite_with_best_model : bool</span>
<span class="sd">      Logical. If True, overwrite the final model with the best model found during training. Defaults to True.</span>
<span class="sd">    checkpoint : H2ODeepLearningModel</span>
<span class="sd">      &quot;Model checkpoint (either key or H2ODeepLearningModel) to resume training with.&quot;</span>
<span class="sd">    use_all_factor_levels : bool</span>
<span class="sd">      Logical. Use all factor levels of categorical variance. Otherwise the first factor level is omitted (without loss of accuracy).</span>
<span class="sd">      Useful for variable importances and auto-enabled for autoencoder.</span>
<span class="sd">    activation : str</span>
<span class="sd">      A string indicating the activation function to use. Must be either &quot;Tanh&quot;, &quot;TanhWithDropout&quot;, &quot;Rectifier&quot;, &quot;RectifierWithDropout&quot;, &quot;Maxout&quot;, or &quot;MaxoutWithDropout&quot;</span>
<span class="sd">    hidden : list</span>
<span class="sd">      Hidden layer sizes (e.g. c(100,100))</span>
<span class="sd">    epochs : float</span>
<span class="sd">      How many times the dataset should be iterated (streamed), can be fractional</span>
<span class="sd">    train_samples_per_iteration : int</span>
<span class="sd">      Number of training samples (globally) per MapReduce iteration. Special values are: 0 one epoch; -1 all available data</span>
<span class="sd">      (e.g., replicated training data); or -2 auto-tuning (default)</span>
<span class="sd">    target_ratio_comm_to_comp : float</span>
<span class="sd">      Target ratio of communication overhead to computation. Only for multi-node operation and train_samples_per_iteration=-2 (auto-tuning).</span>
<span class="sd">      Higher values can lead to faster convergence.</span>
<span class="sd">    seed : int</span>
<span class="sd">      Seed for random numbers (affects sampling) - Note: only reproducible when running single threaded</span>
<span class="sd">    adaptive_rate : bool</span>
<span class="sd">      Logical. Adaptive learning rate (ADAELTA)</span>
<span class="sd">    rho : float</span>
<span class="sd">      Adaptive learning rate time decay factor (similarity to prior updates)</span>
<span class="sd">    epsilon : float</span>
<span class="sd">      Adaptive learning rate parameter, similar to learn rate annealing during initial training phase. Typical values are between 1.0e-10 and 1.0e-4</span>
<span class="sd">    rate : float</span>
<span class="sd">      Learning rate (higher =&gt; less stable, lower =&gt; slower convergence)</span>
<span class="sd">    rate_annealing : float</span>
<span class="sd">      Learning rate annealing: \eqn{(rate)/(1 + rate_annealing*samples)</span>
<span class="sd">    rate_decay : float</span>
<span class="sd">      Learning rate decay factor between layers (N-th layer: \eqn{rate*\alpha^(N-1))</span>
<span class="sd">    momentum_start : float</span>
<span class="sd">      Initial momentum at the beginning of training (try 0.5)</span>
<span class="sd">    momentum_ramp : int</span>
<span class="sd">      Number of training samples for which momentum increases</span>
<span class="sd">    momentum_stable : float</span>
<span class="sd">      Final momentum after the amp is over (try 0.99)</span>
<span class="sd">    nesterov_accelerated_gradient : bool</span>
<span class="sd">      Logical. Use Nesterov accelerated gradient (recommended)</span>
<span class="sd">    input_dropout_ratio : float</span>
<span class="sd">      A fraction of the features for each training row to be omitted from training in order to improve generalization (dimension sampling).</span>
<span class="sd">    hidden_dropout_ratios : float</span>
<span class="sd">      Input layer dropout ratio (can improve generalization) specify one value per hidden layer, defaults to 0.5</span>
<span class="sd">    l1 : float</span>
<span class="sd">      L1 regularization (can add stability and improve generalization, causes many weights to become 0)</span>
<span class="sd">    l2:  float</span>
<span class="sd">      L2 regularization (can add stability and improve generalization, causes many weights to be small)</span>
<span class="sd">    max_w2 : float</span>
<span class="sd">      Constraint for squared sum of incoming weights per unit (e.g. Rectifier)</span>
<span class="sd">    initial_weight_distribution : str</span>
<span class="sd">      Can be &quot;Uniform&quot;, &quot;UniformAdaptive&quot;, or &quot;Normal&quot;</span>
<span class="sd">    initial_weight_scale : str</span>
<span class="sd">      Uniform: -value ... value, Normal: stddev</span>
<span class="sd">    loss : str</span>
<span class="sd">      Loss function: &quot;Automatic&quot;, &quot;CrossEntropy&quot; (for classification only), &quot;Quadratic&quot;, &quot;Absolute&quot; (experimental) or &quot;Huber&quot; (experimental)</span>
<span class="sd">    distribution : str</span>
<span class="sd">      A character string. The distribution function of the response. Must be &quot;AUTO&quot;, &quot;bernoulli&quot;, &quot;multinomial&quot;, &quot;poisson&quot;, &quot;gamma&quot;,</span>
<span class="sd">      &quot;tweedie&quot;, &quot;laplace&quot;, &quot;huber&quot; or &quot;gaussian&quot;</span>
<span class="sd">    tweedie_power : float</span>
<span class="sd">      Tweedie power (only for Tweedie distribution, must be between 1 and 2)</span>
<span class="sd">    score_interval : int</span>
<span class="sd">      Shortest time interval (in secs) between model scoring</span>
<span class="sd">    score_training_samples : int</span>
<span class="sd">      Number of training set samples for scoring (0 for all)</span>
<span class="sd">    score_duty_cycle : float</span>
<span class="sd">      Maximum duty cycle fraction for scoring (lower: more training, higher: more scoring)</span>
<span class="sd">    classification_stop : float</span>
<span class="sd">      Stopping criterion for classification error fraction on training data (-1 to disable)</span>
<span class="sd">    regression_stop : float</span>
<span class="sd">      Stopping criterion for regression error (MSE) on training data (-1 to disable)</span>
<span class="sd">    stopping_rounds : int</span>
<span class="sd">      Early stopping based on convergence of stopping_metric.</span>
<span class="sd">      Stop if simple moving average of length k of the stopping_metric does not improve</span>
<span class="sd">      (by stopping_tolerance) for k=stopping_rounds scoring events.</span>
<span class="sd">      Can only trigger after at least 2k scoring events. Use 0 to disable.</span>
<span class="sd">    stopping_metric : str</span>
<span class="sd">      Metric to use for convergence checking, only for _stopping_rounds &gt; 0</span>
<span class="sd">      Can be one of &quot;AUTO&quot;, &quot;MSE&quot;.</span>
<span class="sd">    stopping_tolerance : float</span>
<span class="sd">      Relative tolerance for metric-based stopping criterion (stop if relative improvement is not at least this much)</span>
<span class="sd">    quiet_mode : bool</span>
<span class="sd">      Enable quiet mode for less output to standard output</span>
<span class="sd">    max_confusion_matrix_size : int</span>
<span class="sd">      Max. size (number of classes) for confusion matrices to be shown</span>
<span class="sd">    max_hit_ratio_k : float</span>
<span class="sd">      Max number (top K) of predictions to use for hit ratio computation(for multi-class only, 0 to disable)</span>
<span class="sd">    balance_classes : bool</span>
<span class="sd">      Balance training data class counts via over/under-sampling (for imbalanced data)</span>
<span class="sd">    class_sampling_factors : list</span>
<span class="sd">      Desired over/under-sampling ratios per class (in lexicographic order). If not specified, sampling factors will be automatically computed to obtain</span>
<span class="sd">      class balance during training. Requires balance_classes.</span>
<span class="sd">    max_after_balance_size : float</span>
<span class="sd">      Maximum relative size of the training data after balancing class counts (can be less than 1.0)</span>
<span class="sd">    diagnostics : bool</span>
<span class="sd">      Enable diagnostics for hidden layers</span>
<span class="sd">    variable_importances : bool</span>
<span class="sd">      Compute variable importances for input features (Gedeon method) - can be slow for large networks)</span>
<span class="sd">    fast_mode : bool</span>
<span class="sd">      Enable fast mode (minor approximations in back-propagation)</span>
<span class="sd">    ignore_const_cols : bool</span>
<span class="sd">      Ignore constant columns (no information can be gained anyway)</span>
<span class="sd">    force_load_balance : bool</span>
<span class="sd">      Force extra load balancing to increase training speed for small datasets (to keep all cores busy)</span>
<span class="sd">    replicate_training_data : bool</span>
<span class="sd">      Replicate the entire training dataset onto every node for faster training</span>
<span class="sd">    single_node_mode : bool</span>
<span class="sd">      Run on a single node for fine-tuning of model parameters</span>
<span class="sd">    shuffle_training_data : bool</span>
<span class="sd">      Enable shuffling of training data (recommended if training data is replicated and train_samples_per_iteration is close to \eqn{numRows*numNodes</span>
<span class="sd">    sparse : bool</span>
<span class="sd">      Sparse data handling (Experimental)</span>
<span class="sd">    col_major : bool</span>
<span class="sd">      Use a column major weight matrix for input layer. Can speed up forward propagation, but might slow down backpropagation (Experimental)</span>
<span class="sd">    average_activation : float</span>
<span class="sd">      Average activation for sparse auto-encoder (Experimental)</span>
<span class="sd">    sparsity_beta : float</span>
<span class="sd">      Sparsity regularization (Experimental)</span>
<span class="sd">    max_categorical_features : int</span>
<span class="sd">      Max. number of categorical features, enforced via hashing Experimental)</span>
<span class="sd">    reproducible : bool</span>
<span class="sd">      Force reproducibility on small data (will be slow - only uses 1 thread)</span>
<span class="sd">    export_weights_and_biases : bool</span>
<span class="sd">      Whether to export Neural Network weights and biases to H2O Frames&quot;</span>

<span class="sd">  :return: H2OAutoEncoderModel</span>



<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.autoencoder` is deprecated. Use the estimators sub module to build an H2OAutoEncoderEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;deeplearning&quot;</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;autoencoder&quot;</span><span class="p">]</span><span class="o">=</span><span class="bp">True</span>
  <span class="k">return</span> <span class="n">unsupervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="gbm"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.gbm">[docs]</a><span class="k">def</span> <span class="nf">gbm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">model_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">distribution</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">tweedie_power</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">ntrees</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_depth</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">min_rows</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">learn_rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sample_rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">col_sample_rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">col_sample_rate_per_tree</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nbins</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">nbins_top_level</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nbins_cats</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">balance_classes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_after_balance_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">build_tree_one_node</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">nfolds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_assignment</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">keep_cross_validation_predictions</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">score_each_iteration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">offset_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">weights_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">do_future</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">checkpoint</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">stopping_rounds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stopping_metric</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stopping_tolerance</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Builds gradient boosted classification trees, and gradient boosted regression trees on a parsed data set.</span>
<span class="sd">  The default distribution function will guess the model type based on the response column typerun properly the</span>
<span class="sd">  response column must be an numeric for &quot;gaussian&quot; or an enum for &quot;bernoulli&quot; or &quot;multinomial&quot;.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  x : H2OFrame</span>
<span class="sd">    An H2OFrame containing the predictors in the model.</span>
<span class="sd">  y : H2OFrame</span>
<span class="sd">    An H2OFrame of the response variable in the model.</span>
<span class="sd">  training_frame : H2OFrame</span>
<span class="sd">    (Optional) An H2OFrame. Only used to retrieve weights, offset, or nfolds columns, if they aren&#39;t already provided in x.</span>
<span class="sd">  model_id : str</span>
<span class="sd">    (Optional) The unique id assigned to the resulting model. If none is given, an id will automatically be generated.</span>
<span class="sd">  distribution : str</span>
<span class="sd">     A character string. The distribution function of the response. Must be &quot;AUTO&quot;, &quot;bernoulli&quot;, &quot;multinomial&quot;, &quot;poisson&quot;, &quot;gamma&quot;, &quot;tweedie&quot;, &quot;laplace&quot; or &quot;gaussian&quot;</span>
<span class="sd">  tweedie_power : float</span>
<span class="sd">    Tweedie power (only for Tweedie distribution, must be between 1 and 2)</span>
<span class="sd">  ntrees : int</span>
<span class="sd">    A non-negative integer that determines the number of trees to grow.</span>
<span class="sd">  max_depth : int</span>
<span class="sd">    Maximum depth to grow the tree.</span>
<span class="sd">  min_rows : int</span>
<span class="sd">    Minimum number of rows to assign to terminal nodes.</span>
<span class="sd">  learn_rate : float</span>
<span class="sd">    Learning rate (from 0.0 to 1.0)</span>
<span class="sd">  sample_rate : float</span>
<span class="sd">    Row sample rate (from 0.0 to 1.0)</span>
<span class="sd">  col_sample_rate : float</span>
<span class="sd">    Column sample rate (from 0.0 to 1.0)</span>
<span class="sd">  col_sample_rate_per_tree : float</span>
<span class="sd">    Column sample rate per tree (from 0.0 to 1.0)</span>
<span class="sd">  nbins : int</span>
<span class="sd">    For numerical columns (real/int), build a histogram of (at least) this many bins, then split at the best point.</span>
<span class="sd">  nbins_top_level : int</span>
<span class="sd">    For numerical columns (real/int), build a histogram of (at most) this many bins at the root level, then decrease by factor of two per level.</span>
<span class="sd">  nbins_cats : int</span>
<span class="sd">    For categorical columns (factors), build a histogram of this many bins, then split at the best point. Higher values can lead to more overfitting.</span>
<span class="sd">  validation_frame : H2OFrame</span>
<span class="sd">    An H2OFrame object indicating the validation dataset used to contruct the confusion matrix. If left blank, this defaults to the training data when nfolds = 0</span>
<span class="sd">  balance_classes : bool</span>
<span class="sd">    logical, indicates whether or not to balance training data class counts via over/under-sampling (for imbalanced data)</span>
<span class="sd">  max_after_balance_size : float</span>
<span class="sd">    Maximum relative size of the training data after balancing class counts (can be less than 1.0). Ignored if balance_classes is False, which is the default behavior.</span>
<span class="sd">  seed : int</span>
<span class="sd">    Seed for random numbers (affects sampling when balance_classes=T)</span>
<span class="sd">  build_tree_one_node : bool</span>
<span class="sd">    Run on one node only; no network overhead but fewer cpus used.  Suitable for small datasets.</span>
<span class="sd">  nfolds : int</span>
<span class="sd">    (Optional) Number of folds for cross-validation. If nfolds &gt;= 2, then validation must remain empty.</span>
<span class="sd">  fold_column : H2OFrame</span>
<span class="sd">    (Optional) Column with cross-validation fold index assignment per observation</span>
<span class="sd">  fold_assignment : str</span>
<span class="sd">    Cross-validation fold assignment scheme, if fold_column is not specified Must be &quot;AUTO&quot;, &quot;Random&quot; or &quot;Modulo&quot;</span>
<span class="sd">  keep_cross_validation_predictions : bool</span>
<span class="sd">    Whether to keep the predictions of the cross-validation models</span>
<span class="sd">  score_each_iteration : bool</span>
<span class="sd">    Attempts to score each tree.</span>
<span class="sd">  offset_column : H2OFrame</span>
<span class="sd">    Specify the offset column.</span>
<span class="sd">  weights_column : H2OFrame</span>
<span class="sd">    Specify the weights column.</span>
<span class="sd">  stopping_rounds : int</span>
<span class="sd">    Early stopping based on convergence of stopping_metric.</span>
<span class="sd">    Stop if simple moving average of length k of the stopping_metric does not improve</span>
<span class="sd">    (by stopping_tolerance) for k=stopping_rounds scoring events.</span>
<span class="sd">    Can only trigger after at least 2k scoring events. Use 0 to disable.</span>
<span class="sd">  stopping_metric : str</span>
<span class="sd">    Metric to use for convergence checking, only for _stopping_rounds &gt; 0</span>
<span class="sd">    Can be one of &quot;AUTO&quot;, &quot;deviance&quot;, &quot;logloss&quot;, &quot;MSE&quot;, &quot;AUC&quot;, &quot;r2&quot;, &quot;misclassification&quot;.</span>
<span class="sd">  stopping_tolerance : float</span>
<span class="sd">    Relative tolerance for metric-based stopping criterion (stop if relative improvement is not at least this much)</span>

<span class="sd">  :return: A new classifier or regression model.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.gbm` is deprecated. Use the estimators sub module to build an H2OGradientBoostedEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;gbm&quot;</span>
  <span class="k">return</span> <span class="n">supervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="glm"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.glm">[docs]</a><span class="k">def</span> <span class="nf">glm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">model_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">max_iterations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">beta_epsilon</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">solver</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">standardize</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">family</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">link</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">tweedie_variance_power</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">tweedie_link_power</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">prior</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">lambda_search</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">nlambdas</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">lambda_min_ratio</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">beta_constraints</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">offset_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">weights_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">nfolds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_assignment</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">keep_cross_validation_predictions</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">intercept</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">Lambda</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_active_predictors</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">do_future</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">checkpoint</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Build a Generalized Linear Model</span>
<span class="sd">  Fit a generalized linear model, specified by a response variable, a set of predictors, and a description of the error</span>
<span class="sd">  distribution.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  x : H2OFrame</span>
<span class="sd">    An H2OFrame containing the predictors in the model.</span>
<span class="sd">  y : H2OFrame</span>
<span class="sd">    An H2OFrame of the response variable in the model.</span>
<span class="sd">  training_frame : H2OFrame</span>
<span class="sd">    (Optional) An H2OFrame. Only used to retrieve weights, offset, or nfolds columns, if they aren&#39;t already provided in x.</span>
<span class="sd">  model_id : str</span>
<span class="sd">    (Optional) The unique id assigned to the resulting model. If none is given, an id will automatically be generated.</span>
<span class="sd">  validation_frame : H2OFrame</span>
<span class="sd">    An H2OFrame object containing the variables in the model.</span>
<span class="sd">  max_iterations : int</span>
<span class="sd">    A non-negative integer specifying the maximum number of iterations.</span>
<span class="sd">  beta_epsilon : int</span>
<span class="sd">     A non-negative number specifying the magnitude of the maximum difference between the coefficient estimates from successive iterations.</span>
<span class="sd">     Defines the convergence criterion for h2o.glm.</span>
<span class="sd">  solver : str</span>
<span class="sd">    A character string specifying the solver used: IRLSM (supports more features), L_BFGS (scales better for datasets with many columns)</span>
<span class="sd">  standardize : bool</span>
<span class="sd">    A logical value indicating whether the numeric predictors should be standardized to have a mean of 0 and a variance of 1 prior to training the models.</span>
<span class="sd">  family : str</span>
<span class="sd">    A character string specifying the distribution of the model:  gaussian, binomial, poisson, gamma, tweedie.</span>
<span class="sd">  link : str</span>
<span class="sd">    A character string specifying the link function. The default is the canonical link for the family.</span>


<span class="sd">  The supported links for each of the family specifications are:\n</span>
<span class="sd">          &quot;gaussian&quot;: &quot;identity&quot;, &quot;log&quot;, &quot;inverse&quot;\n</span>
<span class="sd">          &quot;binomial&quot;: &quot;logit&quot;, &quot;log&quot;</span>
<span class="sd">          &quot;poisson&quot;: &quot;log&quot;, &quot;identity&quot;</span>
<span class="sd">          &quot;gamma&quot;: &quot;inverse&quot;, &quot;log&quot;, &quot;identity&quot;</span>
<span class="sd">          &quot;tweedie&quot;: &quot;tweedie&quot;</span>

<span class="sd">  tweedie_variance_power : int</span>
<span class="sd">     numeric specifying the power for the variance function when family = &quot;tweedie&quot;.</span>
<span class="sd">  tweedie_link_power : int</span>
<span class="sd">    A numeric specifying the power for the link function when family = &quot;tweedie&quot;.</span>
<span class="sd">  alpha : float</span>
<span class="sd">    A numeric in [0, 1] specifying the elastic-net mixing parameter.</span>

<span class="sd">  The elastic-net penalty is defined to be:</span>
<span class="sd">  eqn{P(\alpha,\beta) = (1-\alpha)/2||\beta||_2^2 + \alpha||\beta||_1 = \sum_j [(1-\alpha)/2 \beta_j^2 + \alpha|\beta_j|],</span>
<span class="sd">  making alpha = 1 the lasso penalty and alpha = 0 the ridge penalty.</span>

<span class="sd">  Lambda : float</span>
<span class="sd">    A non-negative shrinkage parameter for the elastic-net, which multiplies \eqn{P(\alpha,\beta) in the objective function.</span>
<span class="sd">    When Lambda = 0, no elastic-net penalty is applied and ordinary generalized linear models are fit.</span>
<span class="sd">  prior : float</span>
<span class="sd">    (Optional) A numeric specifying the prior probability of class 1 in the response when family = &quot;binomial&quot;. The default prior is the observational frequency of class 1.</span>
<span class="sd">  lambda_search : bool</span>
<span class="sd">    A logical value indicating whether to conduct a search over the space of lambda values starting from the lambda max, given lambda is interpreted as lambda minself.</span>
<span class="sd">  nlambdas : int</span>
<span class="sd">    The number of lambda values to use when lambda_search = TRUE.</span>
<span class="sd">  lambda_min_ratio : float</span>
<span class="sd">    Smallest value for lambda as a fraction of lambda.max. By default if the number of observations is greater than the the number of</span>
<span class="sd">    variables then lambda_min_ratio = 0.0001; if the number of observations is less than the number of variables then lambda_min_ratio = 0.01.</span>
<span class="sd">  beta_constraints : H2OFrame</span>
<span class="sd">    A data.frame or H2OParsedData object with the columns [&quot;names&quot;, &quot;lower_bounds&quot;, &quot;upper_bounds&quot;, &quot;beta_given&quot;], where each row corresponds to a predictor</span>
<span class="sd">    in the GLM. &quot;names&quot; contains the predictor names, &quot;lower&quot;/&quot;upper_bounds&quot;, are the lower and upper bounds of beta, and &quot;beta_given&quot; is some supplied starting</span>
<span class="sd">    values for the</span>
<span class="sd">  offset_column : H2OFrame</span>
<span class="sd">    Specify the offset column.</span>
<span class="sd">  weights_column : H2OFrame</span>
<span class="sd">    Specify the weights column.</span>
<span class="sd">  nfolds : int</span>
<span class="sd">    (Optional) Number of folds for cross-validation. If nfolds &gt;= 2, then validation must remain empty.</span>
<span class="sd">  fold_column : H2OFrame</span>
<span class="sd">    (Optional) Column with cross-validation fold index assignment per observation</span>
<span class="sd">  fold_assignment : str</span>
<span class="sd">    Cross-validation fold assignment scheme, if fold_column is not specified Must be &quot;AUTO&quot;, &quot;Random&quot; or &quot;Modulo&quot;</span>
<span class="sd">  keep_cross_validation_predictions : bool</span>
<span class="sd">    Whether to keep the predictions of the cross-validation models</span>
<span class="sd">  intercept : bool</span>
<span class="sd">    Logical, include constant term (intercept) in the model</span>
<span class="sd">  max_active_predictors : int</span>
<span class="sd">    (Optional) Convergence criteria for number of predictors when using L1 penalty.</span>



<span class="sd">  Returns: A subclass of ModelBase is returned. The specific subclass depends on the machine learning task at hand (if</span>
<span class="sd">  it&#39;s binomial classification, then an H2OBinomialModel is returned, if it&#39;s regression then a H2ORegressionModel is</span>
<span class="sd">  returned). The default print-out of the models is shown, but further GLM-specifc information can be queried out of</span>
<span class="sd">  the object.</span>
<span class="sd">  Upon completion of the GLM, the resulting object has coefficients, normalized coefficients, residual/null deviance,</span>
<span class="sd">  aic, and a host of model metrics including MSE, AUC (for logistic regression), degrees of freedom, and confusion</span>
<span class="sd">  matrices.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.glm` is deprecated. Use the estimators sub module to build an H2OGeneralizedLinearEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="k">if</span> <span class="s">&quot;alpha&quot;</span> <span class="ow">in</span> <span class="n">parms</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="s">&quot;alpha&quot;</span><span class="p">],</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">)):</span> <span class="n">parms</span><span class="p">[</span><span class="s">&quot;alpha&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">parms</span><span class="p">[</span><span class="s">&quot;alpha&quot;</span><span class="p">]]</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;glm&quot;</span>
  <span class="k">return</span> <span class="n">supervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="start_glm_job"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.start_glm_job">[docs]</a><span class="k">def</span> <span class="nf">start_glm_job</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Build a Generalized Linear Model</span>
<span class="sd">  Note: this function is the same as glm(), but it doesn&#39;t block on model-build. Instead, it returns and H2OModelFuture</span>
<span class="sd">  object immediately. The model can be retrieved from the H2OModelFuture object with get_future_model().</span>

<span class="sd">  :return: H2OModelFuture</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">kwargs</span><span class="p">[</span><span class="s">&quot;do_future&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
  <span class="k">return</span> <span class="n">glm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">validation_x</span><span class="p">,</span><span class="n">validation_y</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="kmeans"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.kmeans">[docs]</a><span class="k">def</span> <span class="nf">kmeans</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">model_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_iterations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">standardize</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">init</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
           <span class="n">nfolds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_assignment</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
           <span class="n">user_points</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">ignored_columns</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">score_each_iteration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">keep_cross_validation_predictions</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
           <span class="n">ignore_const_cols</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">checkpoint</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Performs k-means clustering on an H2O dataset.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">    x : H2OFrame</span>
<span class="sd">       The data columns on which k-means operates.\n</span>
<span class="sd">    k : int</span>
<span class="sd">      The number of clusters. Must be between 1 and 1e7 inclusive. k may be omitted if the user specifies the</span>
<span class="sd">      initial centers in the init parameter. If k is not omitted, in this case, then it should be equal to the number of</span>
<span class="sd">      user-specified centers.</span>
<span class="sd">    model_id : str</span>
<span class="sd">      (Optional) The unique id assigned to the resulting model. If none is given, an id will automatically be generated.</span>
<span class="sd">    max_iterations : int</span>
<span class="sd">      The maximum number of iterations allowed. Must be between 0 and 1e6 inclusive.</span>
<span class="sd">    standardize : bool</span>
<span class="sd">      Indicates whether the data should be standardized before running k-means.</span>
<span class="sd">    init : str</span>
<span class="sd">      A character string that selects the initial set of k cluster centers. Possible values are &quot;Random&quot;: for</span>
<span class="sd">      random initialization, &quot;PlusPlus&quot;: for k-means plus initialization, or &quot;Furthest&quot;: for initialization at the furthest</span>
<span class="sd">      point from each successive center. Additionally, the user may specify a the initial centers as a matrix, data.frame,</span>
<span class="sd">      H2OFrame, or list of vectors. For matrices, data.frames, and H2OFrames, each row of the respective structure is an</span>
<span class="sd">      initial center. For lists of vectors, each vector is an initial center.</span>
<span class="sd">    seed : int</span>
<span class="sd">      (Optional) Random seed used to initialize the cluster centroids.</span>
<span class="sd">    nfolds : int</span>
<span class="sd">      (Optional) Number of folds for cross-validation. If nfolds &gt;= 2, then validation must remain empty.</span>
<span class="sd">    fold_column : H2OFrame</span>
<span class="sd">      (Optional) Column with cross-validation fold index assignment per observation</span>
<span class="sd">    fold_assignment : str</span>
<span class="sd">      Cross-validation fold assignment scheme, if fold_column is not specified Must be &quot;AUTO&quot;, &quot;Random&quot; or &quot;Modulo&quot;</span>

<span class="sd">  :return: An instance of H2OClusteringModel.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.kmeans` is deprecated. Use the estimators sub module to build an H2OKMeansEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;kmeans&quot;</span>
  <span class="k">return</span> <span class="n">unsupervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="random_forest"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.random_forest">[docs]</a><span class="k">def</span> <span class="nf">random_forest</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">model_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">mtries</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sample_rate</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">col_sample_rate_per_tree</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">build_tree_one_node</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">ntrees</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_depth</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">min_rows</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nbins</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">nbins_top_level</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nbins_cats</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">binomial_double_trees</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">balance_classes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">max_after_balance_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">offset_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">weights_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nfolds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">fold_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_assignment</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">keep_cross_validation_predictions</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">score_each_iteration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">checkpoint</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">stopping_rounds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stopping_metric</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">stopping_tolerance</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Build a Big Data Random Forest Model</span>
<span class="sd">  Builds a Random Forest Model on an H2OFrame</span>


<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  x : H2OFrame</span>
<span class="sd">    An H2OFrame containing the predictors in the model.</span>
<span class="sd">  y : H2OFrame</span>
<span class="sd">    An H2OFrame of the response variable in the model.</span>
<span class="sd">  training_frame : H2OFrame</span>
<span class="sd">    (Optional) An H2OFrame. Only used to retrieve weights, offset, or nfolds columns, if they aren&#39;t already provided in x.</span>
<span class="sd">  model_id : str</span>
<span class="sd">    (Optional) The unique id assigned to the resulting model. If none is given, an id will automatically be generated.</span>
<span class="sd">  mtries : int</span>
<span class="sd">    Number of variables randomly sampled as candidates at each split. If set to -1, defaults to sqrt{p} for classification, and p/3 for regression,</span>
<span class="sd">    where p is the number of predictors.</span>
<span class="sd">  sample_rate : float</span>
<span class="sd">    Row sample rate (from 0.0 to 1.0)</span>
<span class="sd">  col_sample_rate_per_tree : float</span>
<span class="sd">    Column sample rate per tree (from 0.0 to 1.0)</span>
<span class="sd">  build_tree_one_node : bool</span>
<span class="sd">    Run on one node only; no network overhead but fewer cpus used.  Suitable for small datasets.</span>
<span class="sd">  ntrees : int</span>
<span class="sd">    A nonnegative integer that determines the number of trees to grow.</span>
<span class="sd">  max_depth : int</span>
<span class="sd">    Maximum depth to grow the tree.</span>
<span class="sd">  min_rows : int</span>
<span class="sd">    Minimum number of rows to assign to teminal nodes.</span>
<span class="sd">  nbins : int</span>
<span class="sd">    For numerical columns (real/int), build a histogram of (at least) this many bins, then split at the best point.</span>
<span class="sd">  nbins_top_level : int</span>
<span class="sd">    For numerical columns (real/int), build a histogram of (at most) this many bins at the root level, then decrease by factor of two per level.</span>
<span class="sd">  nbins_cats : int</span>
<span class="sd">    For categorical columns (factors), build a histogram of this many bins, then split at the best point. Higher values can lead to more overfitting.</span>
<span class="sd">  binomial_double_trees : bool</span>
<span class="sd">    or binary classification: Build 2x as many trees (one per class) - can lead to higher accuracy.</span>
<span class="sd">  validation_frame : H2OFrame</span>
<span class="sd">     An H2OFrame object containing the variables in the model.</span>
<span class="sd">  balance_classes : bool</span>
<span class="sd">    logical, indicates whether or not to balance training data class counts via over/under-sampling (for imbalanced data)</span>
<span class="sd">  max_after_balance_size : float</span>
<span class="sd">    Maximum relative size of the training data after balancing class counts (can be less than 1.0). Ignored if balance_classes is False, which is the default behavior.</span>
<span class="sd">  seed : int</span>
<span class="sd">    Seed for random numbers (affects sampling) - Note: only reproducible when running single threaded</span>
<span class="sd">  offset_column : H2OFrame</span>
<span class="sd">    Specify the offset column.</span>
<span class="sd">  weights_column : H2OFrame</span>
<span class="sd">    Specify the weights column.</span>
<span class="sd">  nfolds : int</span>
<span class="sd">    (Optional) Number of folds for cross-validation. If nfolds &gt;= 2, then validation must remain empty.</span>
<span class="sd">  fold_column : H2OFrame</span>
<span class="sd">    (Optional) Column with cross-validation fold index assignment per observation</span>
<span class="sd">  fold_assignment : str</span>
<span class="sd">    Cross-validation fold assignment scheme, if fold_column is not specified Must be &quot;AUTO&quot;, &quot;Random&quot; or &quot;Modulo&quot;</span>
<span class="sd">  keep_cross_validation_predictions : bool</span>
<span class="sd">    Whether to keep the predictions of the cross-validation models</span>
<span class="sd">  score_each_iteration : bool</span>
<span class="sd">    Attempts to score each tree.</span>
<span class="sd">  stopping_rounds : int</span>
<span class="sd">    Early stopping based on convergence of stopping_metric.</span>
<span class="sd">    Stop if simple moving average of length k of the stopping_metric does not improve</span>
<span class="sd">    (by stopping_tolerance) for k=stopping_rounds scoring events.</span>
<span class="sd">    Can only trigger after at least 2k scoring events. Use 0 to disable.</span>
<span class="sd">  stopping_metric : str</span>
<span class="sd">    Metric to use for convergence checking, only for _stopping_rounds &gt; 0</span>
<span class="sd">    Can be one of &quot;AUTO&quot;, &quot;deviance&quot;, &quot;logloss&quot;, &quot;MSE&quot;, &quot;AUC&quot;, &quot;r2&quot;, &quot;misclassification&quot;.</span>
<span class="sd">  stopping_tolerance : float</span>
<span class="sd">    Relative tolerance for metric-based stopping criterion (stop if relative improvement is not at least this much)</span>

<span class="sd">  :return: A new classifier or regression model.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.random_forest` is deprecated. Use the estimators sub module to build an H2ORandomForestEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;drf&quot;</span>
  <span class="k">return</span> <span class="n">supervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="prcomp"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.prcomp">[docs]</a><span class="k">def</span> <span class="nf">prcomp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">model_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_iterations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">transform</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">use_all_factor_levels</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
           <span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">pca_method</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Principal components analysis of a H2O dataset.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  k : int</span>
<span class="sd">    The number of principal components to be computed. This must be between 1 and min(ncol(training_frame), nrow(training_frame)) inclusive.</span>
<span class="sd">  model_id : str</span>
<span class="sd">    (Optional) The unique hex key assigned to the resulting model. Automatically generated if none is provided.</span>
<span class="sd">  max_iterations : int</span>
<span class="sd">    The maximum number of iterations to run each power iteration loop. Must be between 1 and 1e6 inclusive.</span>
<span class="sd">  transform : str</span>
<span class="sd">    A character string that indicates how the training data should be transformed before running PCA.</span>
<span class="sd">    Possible values are &quot;NONE&quot;: for no transformation, &quot;DEMEAN&quot;: for subtracting the mean of each column, &quot;DESCALE&quot;:</span>
<span class="sd">    for dividing by the standard deviation of each column, &quot;STANDARDIZE&quot;: for demeaning and descaling, and &quot;NORMALIZE&quot;:</span>
<span class="sd">    for demeaning and dividing each column by its range (max - min).</span>
<span class="sd">  seed : int</span>
<span class="sd">    (Optional) Random seed used to initialize the right singular vectors at the beginning of each power method iteration.</span>
<span class="sd">  use_all_factor_levels : bool</span>
<span class="sd">    (Optional) A logical value indicating whether all factor levels should be included in each categorical column expansion.</span>
<span class="sd">    If FALSE, the indicator column corresponding to the first factor level of every categorical variable will be dropped. Defaults to FALSE.</span>
<span class="sd">  pca_method : str</span>
<span class="sd">    A character string that indicates how PCA should be calculated.</span>
<span class="sd">    Possible values are &quot;GramSVD&quot;: distributed computation of the Gram matrix followed by a local SVD using the JAMA package,</span>
<span class="sd">    &quot;Power&quot;: computation of the SVD using the power iteration method, &quot;Randomized&quot;: approximate SVD by projecting onto a random</span>
<span class="sd">    subspace, &quot;GLRM&quot;: fit a generalized low rank model with an l2 loss function (no regularization) and solve for the SVD using</span>
<span class="sd">    local matrix algebra.</span>

<span class="sd">  :return: a new dim reduction model</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.prcomp` is deprecated. Use the transforms sub module to build an H2OPCA.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;pca&quot;</span>
  <span class="k">return</span> <span class="n">unsupervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="svd"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.svd">[docs]</a><span class="k">def</span> <span class="nf">svd</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">nv</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_iterations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">transform</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">use_all_factor_levels</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">svd_method</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Singular value decomposition of a H2O dataset.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  nv : int</span>
<span class="sd">    The number of right singular vectors to be computed. This must be between 1 and min(ncol(training_frame), snrow(training_frame)) inclusive.</span>
<span class="sd">  max_iterations : int</span>
<span class="sd">    The maximum number of iterations to run each power iteration loop. Must be between 1 and</span>
<span class="sd">    1e6 inclusive.max_iterations The maximum number of iterations to run each power iteration loop. Must be between 1</span>
<span class="sd">    and 1e6 inclusive.</span>
<span class="sd">  transform : str</span>
<span class="sd">    A character string that indicates how the training data should be transformed before running SVD.</span>
<span class="sd">    Possible values are &quot;NONE&quot;: for no transformation, &quot;DEMEAN&quot;: for subtracting the mean of each column, &quot;DESCALE&quot;: for</span>
<span class="sd">    dividing by the standard deviation of each column, &quot;STANDARDIZE&quot;: for demeaning and descaling, and &quot;NORMALIZE&quot;: for</span>
<span class="sd">    demeaning and dividing each column by its range (max - min).</span>
<span class="sd">  seed : int</span>
<span class="sd">    (Optional) Random seed used to initialize the right singular vectors at the beginning of each power method iteration.</span>
<span class="sd">  use_all_factor_levels : bool</span>
<span class="sd">    (Optional) A logical value indicating whether all factor levels should be included in each categorical column expansion.</span>
<span class="sd">    If FALSE, the indicator column corresponding to the first factor level of every categorical variable will be dropped. Defaults to TRUE.</span>
<span class="sd">  svd_method : str</span>
<span class="sd">    A character string that indicates how SVD should be calculated.</span>
<span class="sd">    Possible values are &quot;GramSVD&quot;: distributed computation of the Gram matrix followed by a local SVD using the JAMA package,</span>
<span class="sd">    &quot;Power&quot;: computation of the SVD using the power iteration method, &quot;Randomized&quot;: approximate SVD by projecting onto a random subspace.</span>


<span class="sd">  :return: a new dim reduction model</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.svd` is deprecated. Use the transforms sub module to build an H2OSVD.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;svd&quot;</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&#39;_rest_version&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">99</span>
  <span class="k">return</span> <span class="n">unsupervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="glrm"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.glrm">[docs]</a><span class="k">def</span> <span class="nf">glrm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_iterations</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_updates</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">transform</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">ignore_const_cols</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">loss</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">multi_loss</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">loss_by_col</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">loss_by_col_idx</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">regularization_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">regularization_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">gamma_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">gamma_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">init_step_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">min_step_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">init</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">svd_method</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
         <span class="n">user_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">user_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">expand_user_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">impute_original</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">recover_svd</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Builds a generalized low rank model of a H2O dataset.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  k : int</span>
<span class="sd">    The rank of the resulting decomposition. This must be between 1 and the number of columns in the training frame inclusive.</span>
<span class="sd">  max_iterations : int</span>
<span class="sd">    The maximum number of iterations to run the optimization loop. Each iteration consists of an update of the X matrix, followed by an</span>
<span class="sd">    update of the Y matrix.</span>
<span class="sd">  max_updates : int</span>
<span class="sd">    The maximum number of updates of X or Y to run. Each update consists of an update of either the X matrix or the Y matrix. For example, </span>
<span class="sd">    if max_updates = 1 and max_iterations = 1, the algorithm will initialize X and Y, update X once, and terminate without updating Y.</span>
<span class="sd">  transform : str</span>
<span class="sd">    A character string that indicates how the training data should be transformed before running GLRM.</span>
<span class="sd">    Possible values are &quot;NONE&quot;: for no transformation, &quot;DEMEAN&quot;: for subtracting the mean of each column, &quot;DESCALE&quot;: for</span>
<span class="sd">    dividing by the standard deviation of each column, &quot;STANDARDIZE&quot;: for demeaning and descaling, and &quot;NORMALIZE&quot;: for</span>
<span class="sd">    demeaning and dividing each column by its range (max - min).</span>
<span class="sd">  seed : int</span>
<span class="sd">    (Optional) Random seed used to initialize the X and Y matrices.</span>
<span class="sd">  ignore_const_cols : bool</span>
<span class="sd">    (Optional) A logical value indicating whether to ignore constant columns in the training frame. A column is constant if all of its</span>
<span class="sd">    non-missing values are the same value.</span>
<span class="sd">  loss : str</span>
<span class="sd">    A character string indicating the default loss function for numeric columns. Possible values are &quot;Quadratic&quot; (default), &quot;Absolute&quot;, &quot;Huber&quot;,</span>
<span class="sd">    &quot;Poisson&quot;, &quot;Hinge&quot;, and &quot;Logistic&quot;.</span>
<span class="sd">  multi_loss : str</span>
<span class="sd">    A character string indicating the default loss function for enum columns. Possible values are &quot;Categorical&quot; and &quot;Ordinal&quot;.</span>
<span class="sd">  loss_by_col : str</span>
<span class="sd">    (Optional) A list of strings indicating the loss function for specific columns by corresponding index in loss_by_col_idx.</span>
<span class="sd">    Will override loss for numeric columns and multi_loss for enum columns.</span>
<span class="sd">  loss_by_col_idx : str</span>
<span class="sd">    (Optional) A list of column indices to which the corresponding loss functions in loss_by_col are assigned. Must be zero indexed.</span>
<span class="sd">  regularization_x : str</span>
<span class="sd">    A character string indicating the regularization function for the X matrix. Possible values are &quot;None&quot; (default), &quot;Quadratic&quot;,</span>
<span class="sd">    &quot;L2&quot;, &quot;L1&quot;, &quot;NonNegative&quot;, &quot;OneSparse&quot;, &quot;UnitOneSparse&quot;, and &quot;Simplex&quot;.</span>
<span class="sd">  regularization_y : str</span>
<span class="sd">    A character string indicating the regularization function for the Y matrix. Possible values are &quot;None&quot; (default), &quot;Quadratic&quot;,</span>
<span class="sd">    &quot;L2&quot;, &quot;L1&quot;, &quot;NonNegative&quot;, &quot;OneSparse&quot;, &quot;UnitOneSparse&quot;, and &quot;Simplex&quot;.</span>
<span class="sd">  gamma_x : float</span>
<span class="sd">    The weight on the X matrix regularization term.</span>
<span class="sd">  gamma_y : float</span>
<span class="sd">    The weight on the Y matrix regularization term.</span>
<span class="sd">  init_step_size : float</span>
<span class="sd">    Initial step size. Divided by number of columns in the training frame when calculating the proximal gradient update. The algorithm</span>
<span class="sd">    begins at init_step_size and decreases the step size at each iteration until a termination condition is reached.</span>
<span class="sd">  min_step_size : float</span>
<span class="sd">    Minimum step size upon which the algorithm is terminated.</span>
<span class="sd">  init : str</span>
<span class="sd">    A character string indicating how to select the initial X and Y matrices.</span>
<span class="sd">    Possible values are &quot;Random&quot;: for initialization to a random array from the standard normal distribution, &quot;PlusPlus&quot;: for initialization</span>
<span class="sd">    using the clusters from k-means++ initialization, &quot;SVD&quot;: for initialization using the first k (approximate) right singular vectors, and</span>
<span class="sd">    &quot;User&quot;: user-specified initial X and Y frames (must set user_y and user_x arguments).</span>
<span class="sd">  svd_method : str</span>
<span class="sd">    A character string that indicates how SVD should be calculated during initialization.</span>
<span class="sd">    Possible values are &quot;GramSVD&quot;: distributed computation of the Gram matrix followed by a local SVD using the JAMA package,</span>
<span class="sd">    &quot;Power&quot;: computation of the SVD using the power iteration method, &quot;Randomized&quot;: approximate SVD by projecting onto a random subspace.</span>
<span class="sd">  user_x : H2OFrame</span>
<span class="sd">    (Optional) An H2OFrame object specifying the initial X matrix. Only used when init = &quot;User&quot;.</span>
<span class="sd">  user_y : H2OFrame</span>
<span class="sd">    (Optional) An H2OFrame object specifying the initial Y matrix. Only used when init = &quot;User&quot;.</span>
<span class="sd">  expand_user_y : bool</span>
<span class="sd">	A logical value indicating whether the categorical columns of the initial Y matrix should be one-hot expanded. Only used when init = &quot;User&quot;</span>
<span class="sd">    and user_y is specified.</span>
<span class="sd">  impute_original : bool</span>
<span class="sd">    A logical value indicating whether to reconstruct the original training data by reversing the transformation during prediction.</span>
<span class="sd">    Model metrics are calculated with respect to the original data.</span>
<span class="sd">  recover_svd : bool</span>
<span class="sd">    A logical value indicating whether the singular values and eigenvectors should be recovered during post-processing of the generalized</span>
<span class="sd">    low rank decomposition.</span>


<span class="sd">  :return: a new dim reduction model</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.glrm` is deprecated. Use the estimators sub module to build an H2OGeneralizedLowRankEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;glrm&quot;</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&#39;_rest_version&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">3</span>
  <span class="k">return</span> <span class="n">unsupervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="naive_bayes"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.naive_bayes">[docs]</a><span class="k">def</span> <span class="nf">naive_bayes</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">validation_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">training_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">validation_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">laplace</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">threshold</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">eps</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">compute_metrics</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">offset_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">weights_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">balance_classes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">max_after_balance_size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">nfolds</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fold_assignment</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">keep_cross_validation_predictions</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">checkpoint</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_runtime_secs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  The naive Bayes classifier assumes independence between predictor variables conditional on the response, and a</span>
<span class="sd">  Gaussian distribution of numeric predictors with mean and standard deviation computed from the training dataset.</span>
<span class="sd">  When building a naive Bayes classifier, every row in the training dataset that contains at least one NA will be</span>
<span class="sd">  skipped completely. If the test dataset has missing values, then those predictors are omitted in the probability</span>
<span class="sd">  calculation during prediction.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  laplace : int</span>
<span class="sd">    A positive number controlling Laplace smoothing. The default zero disables smoothing.</span>
<span class="sd">  threshold : float</span>
<span class="sd">    The minimum standard deviation to use for observations without enough data. Must be at least 1e-10.</span>
<span class="sd">  eps : float</span>
<span class="sd">    A threshold cutoff to deal with numeric instability, must be positive.</span>
<span class="sd">  compute_metrics : bool</span>
<span class="sd">    A logical value indicating whether model metrics should be computed. Set to FALSE to reduce the runtime of the algorithm.</span>
<span class="sd">  training_frame : H2OFrame</span>
<span class="sd">    Training Frame</span>
<span class="sd">  validation_frame : H2OFrame</span>
<span class="sd">    Validation Frame</span>
<span class="sd">  offset_column : H2OFrame</span>
<span class="sd">    Specify the offset column.</span>
<span class="sd">  weights_column : H2OFrame</span>
<span class="sd">    Specify the weights column.</span>
<span class="sd">  nfolds : int</span>
<span class="sd">    (Optional) Number of folds for cross-validation. If nfolds &gt;= 2, then validation must remain empty.</span>
<span class="sd">  fold_column : H2OFrame</span>
<span class="sd">    (Optional) Column with cross-validation fold index assignment per observation</span>
<span class="sd">  fold_assignment : str</span>
<span class="sd">    Cross-validation fold assignment scheme, if fold_column is not specified Must be &quot;AUTO&quot;, &quot;Random&quot; or &quot;Modulo&quot;</span>
<span class="sd">  keep_cross_validation_predictions :  bool</span>
<span class="sd">    Whether to keep the predictions of the cross-validation models</span>

<span class="sd">  :return: Returns an H2OBinomialModel if the response has two categorical levels, H2OMultinomialModel otherwise.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;`h2o.naive_bayes` is deprecated. Use the estimators sub module to build an H2ONaiveBayesEstimator.&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;training_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_frame&quot;</span><span class="p">,</span> <span class="s">&quot;validation_x&quot;</span><span class="p">,</span> <span class="s">&quot;validation_y&quot;</span><span class="p">,</span> <span class="s">&quot;offset_column&quot;</span><span class="p">,</span> <span class="s">&quot;weights_column&quot;</span><span class="p">,</span> <span class="s">&quot;fold_column&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">}</span>
  <span class="n">parms</span><span class="p">[</span><span class="s">&quot;algo&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;naivebayes&quot;</span>
  <span class="k">return</span> <span class="n">supervised</span><span class="p">(</span><span class="n">parms</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_frame"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.create_frame">[docs]</a><span class="k">def</span> <span class="nf">create_frame</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">randomize</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">real_range</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
                 <span class="n">categorical_fraction</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">factors</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">integer_fraction</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">integer_range</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
                 <span class="n">binary_fraction</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">binary_ones_fraction</span> <span class="o">=</span> <span class="mf">0.02</span><span class="p">,</span> <span class="n">missing_fraction</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">,</span> <span class="n">response_factors</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
                 <span class="n">has_response</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Data Frame Creation in H2O.</span>
<span class="sd">  Creates a data frame in H2O with real-valued, categorical, integer, and binary columns specified by the user.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  id : str</span>
<span class="sd">    A string indicating the destination key. If empty, this will be auto-generated by H2O.</span>
<span class="sd">  rows : int</span>
<span class="sd">    The number of rows of data to generate.</span>
<span class="sd">  cols : int</span>
<span class="sd">    The number of columns of data to generate. Excludes the response column if has_response == True.</span>
<span class="sd">  randomize : bool</span>
<span class="sd">    A logical value indicating whether data values should be randomly generated. This must be TRUE if either categorical_fraction or integer_fraction is non-zero.</span>
<span class="sd">  value : int</span>
<span class="sd">    If randomize == FALSE, then all real-valued entries will be set to this value.</span>
<span class="sd">  real_range : float</span>
<span class="sd">    The range of randomly generated real values.</span>
<span class="sd">  categorical_fraction : float</span>
<span class="sd">    The fraction of total columns that are categorical.</span>
<span class="sd">  factors : int</span>
<span class="sd">    The number of (unique) factor levels in each categorical column.</span>
<span class="sd">  integer_fraction : float</span>
<span class="sd">    The fraction of total columns that are integer-valued.</span>
<span class="sd">  integer_range : list</span>
<span class="sd">    The range of randomly generated integer values.</span>
<span class="sd">  binary_fraction : float</span>
<span class="sd">    The fraction of total columns that are binary-valued.</span>
<span class="sd">  binary_ones_fraction : float</span>
<span class="sd">    The fraction of values in a binary column that are set to 1.</span>
<span class="sd">  missing_fraction : float</span>
<span class="sd">    The fraction of total entries in the data frame that are set to NA.</span>
<span class="sd">  response_factors : int</span>
<span class="sd">    If has_response == TRUE, then this is the number of factor levels in the response column.</span>
<span class="sd">  has_response : bool</span>
<span class="sd">    A logical value indicating whether an additional response column should be pre-pended to the final H2O data frame. If set to TRUE, the total number</span>
<span class="sd">    of columns will be cols+1.</span>
<span class="sd">  seed : int</span>
<span class="sd">    A seed used to generate random values when randomize = TRUE.</span>

<span class="sd"> :return: the H2OFrame that was created</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;dest&quot;</span><span class="p">:</span> <span class="n">_py_tmp_key</span><span class="p">()</span> <span class="k">if</span> <span class="nb">id</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="nb">id</span><span class="p">,</span>
           <span class="s">&quot;rows&quot;</span><span class="p">:</span> <span class="n">rows</span><span class="p">,</span>
           <span class="s">&quot;cols&quot;</span><span class="p">:</span> <span class="n">cols</span><span class="p">,</span>
           <span class="s">&quot;randomize&quot;</span><span class="p">:</span> <span class="n">randomize</span><span class="p">,</span>
           <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
           <span class="s">&quot;real_range&quot;</span><span class="p">:</span> <span class="n">real_range</span><span class="p">,</span>
           <span class="s">&quot;categorical_fraction&quot;</span><span class="p">:</span> <span class="n">categorical_fraction</span><span class="p">,</span>
           <span class="s">&quot;factors&quot;</span><span class="p">:</span> <span class="n">factors</span><span class="p">,</span>
           <span class="s">&quot;integer_fraction&quot;</span><span class="p">:</span> <span class="n">integer_fraction</span><span class="p">,</span>
           <span class="s">&quot;integer_range&quot;</span><span class="p">:</span> <span class="n">integer_range</span><span class="p">,</span>
           <span class="s">&quot;binary_fraction&quot;</span><span class="p">:</span> <span class="n">binary_fraction</span><span class="p">,</span>
           <span class="s">&quot;binary_ones_fraction&quot;</span><span class="p">:</span> <span class="n">binary_ones_fraction</span><span class="p">,</span>
           <span class="s">&quot;missing_fraction&quot;</span><span class="p">:</span> <span class="n">missing_fraction</span><span class="p">,</span>
           <span class="s">&quot;response_factors&quot;</span><span class="p">:</span> <span class="n">response_factors</span><span class="p">,</span>
           <span class="s">&quot;has_response&quot;</span><span class="p">:</span> <span class="n">has_response</span><span class="p">,</span>
           <span class="s">&quot;seed&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">seed</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">seed</span><span class="p">,</span>
           <span class="p">}</span>
  <span class="n">H2OJob</span><span class="p">(</span><span class="n">H2OConnection</span><span class="o">.</span><span class="n">post_json</span><span class="p">(</span><span class="s">&quot;CreateFrame&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">),</span> <span class="s">&quot;Create Frame&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">poll</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">get_frame</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="s">&quot;dest&quot;</span><span class="p">])</span></div>


<div class="viewcode-block" id="interaction"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.interaction">[docs]</a><span class="k">def</span> <span class="nf">interaction</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">pairwise</span><span class="p">,</span> <span class="n">max_factors</span><span class="p">,</span> <span class="n">min_occurrence</span><span class="p">,</span> <span class="n">destination_frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Categorical Interaction Feature Creation in H2O.</span>
<span class="sd">  Creates a frame in H2O with n-th order interaction features between categorical columns, as specified by</span>
<span class="sd">  the user.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  data : H2OFrame</span>
<span class="sd">    the H2OFrame that holds the target categorical columns.</span>
<span class="sd">  factors : list</span>
<span class="sd">    factors Factor columns (either indices or column names).</span>
<span class="sd">  pairwise : bool</span>
<span class="sd">    Whether to create pairwise interactions between factors (otherwise create one higher-order interaction). Only applicable if there are 3 or more factors.</span>
<span class="sd">  max_factors : int</span>
<span class="sd">    Max. number of factor levels in pair-wise interaction terms (if enforced, one extra catch-all factor will be made)</span>
<span class="sd">  min_occurrence : int</span>
<span class="sd">    Min. occurrence threshold for factor levels in pair-wise interaction terms</span>
<span class="sd">  destination_frame : str</span>
<span class="sd">    A string indicating the destination key. If empty, this will be auto-generated by H2O.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    H2OFrame</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">factors</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="nb">int</span><span class="p">)</span> <span class="k">else</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">factors</span><span class="p">]</span>
  <span class="n">parms</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;dest&quot;</span><span class="p">:</span> <span class="n">_py_tmp_key</span><span class="p">()</span> <span class="k">if</span> <span class="n">destination_frame</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">destination_frame</span><span class="p">,</span>
           <span class="s">&quot;source_frame&quot;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">frame_id</span><span class="p">,</span>
           <span class="s">&quot;factor_columns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">_quoted</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">factors</span><span class="p">],</span>
           <span class="s">&quot;pairwise&quot;</span><span class="p">:</span> <span class="n">pairwise</span><span class="p">,</span>
           <span class="s">&quot;max_factors&quot;</span><span class="p">:</span> <span class="n">max_factors</span><span class="p">,</span>
           <span class="s">&quot;min_occurrence&quot;</span><span class="p">:</span> <span class="n">min_occurrence</span><span class="p">,</span>
           <span class="p">}</span>
  <span class="n">H2OJob</span><span class="p">(</span><span class="n">H2OConnection</span><span class="o">.</span><span class="n">post_json</span><span class="p">(</span><span class="s">&quot;Interaction&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">parms</span><span class="p">),</span> <span class="s">&quot;Interactions&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">poll</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">get_frame</span><span class="p">(</span><span class="n">parms</span><span class="p">[</span><span class="s">&quot;dest&quot;</span><span class="p">])</span></div>


<span class="k">def</span> <span class="nf">network_test</span><span class="p">():</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">H2OConnection</span><span class="o">.</span><span class="n">get_json</span><span class="p">(</span><span class="n">url_suffix</span><span class="o">=</span><span class="s">&quot;NetworkTest&quot;</span><span class="p">)</span>
  <span class="n">res</span><span class="p">[</span><span class="s">&quot;table&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<div class="viewcode-block" id="as_list"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.as_list">[docs]</a><span class="k">def</span> <span class="nf">as_list</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">use_pandas</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Convert an H2O data object into a python-specific object.</span>

<span class="sd">  WARNING: This will pull all data local!</span>

<span class="sd">  If Pandas is available (and use_pandas is True), then pandas will be used to parse the data frame.</span>
<span class="sd">  Otherwise, a list-of-lists populated by character data will be returned (so the types of data will</span>
<span class="sd">  all be str).</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>

<span class="sd">  data : H2OFrame</span>
<span class="sd">    An H2O data object.</span>
<span class="sd">  use_pandas : bool</span>
<span class="sd">    Try to use pandas for reading in the data.</span>

<span class="sd">  :return: List of list (Rows x Columns).</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">H2OFrame</span><span class="o">.</span><span class="n">as_data_frame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">use_pandas</span><span class="o">=</span><span class="n">use_pandas</span><span class="p">)</span></div>


<div class="viewcode-block" id="set_timezone"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.set_timezone">[docs]</a><span class="k">def</span> <span class="nf">set_timezone</span><span class="p">(</span><span class="n">tz</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Set the Time Zone on the H2O Cloud</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  tz : str</span>
<span class="sd">    The desired timezone.</span>

<span class="sd">  :return: None</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">ExprNode</span><span class="p">(</span><span class="s">&quot;setTimeZone&quot;</span><span class="p">,</span> <span class="n">tz</span><span class="p">)</span><span class="o">.</span><span class="n">_eager_scalar</span><span class="p">()</span></div>

<div class="viewcode-block" id="get_timezone"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.get_timezone">[docs]</a><span class="k">def</span> <span class="nf">get_timezone</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Get the Time Zone on the H2O Cloud</span>

<span class="sd">  :return: the time zone (string)</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">ExprNode</span><span class="p">(</span><span class="s">&quot;getTimeZone&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">_eager_scalar</span><span class="p">()</span></div>


<div class="viewcode-block" id="list_timezones"><a class="viewcode-back" href="../../h2o.html#h2o.h2o.list_timezones">[docs]</a><span class="k">def</span> <span class="nf">list_timezones</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Get a list of all the timezones</span>

<span class="sd">  :return: the time zones (as an H2OFrame)</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="n">H2OFrame</span><span class="o">.</span><span class="n">_expr</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">ExprNode</span><span class="p">(</span><span class="s">&quot;listTimeZones&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">_frame</span><span class="p">()</span></div>


<span class="c">#  ALL DEPRECATED METHODS BELOW #</span>

<span class="c"># the @h2o_deprecated decorator</span>
<span class="k">def</span> <span class="nf">h2o_deprecated</span><span class="p">(</span><span class="n">newfun</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">o</span><span class="p">(</span><span class="n">fun</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">i</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
      <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">newfun</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">DeprecationWarning</span><span class="p">(</span><span class="s">&quot;{} is deprecated.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fun</span><span class="o">.</span><span class="n">__name__</span><span class="p">))</span>
      <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;{} is deprecated. Use {}.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fun</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span><span class="n">newfun</span><span class="o">.</span><span class="n">__name__</span><span class="p">),</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">newfun</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">i</span>
  <span class="k">return</span> <span class="n">o</span>

<span class="nd">@h2o_deprecated</span><span class="p">(</span><span class="n">import_file</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">import_frame</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Deprecated for import_file.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  path : str</span>
<span class="sd">    A path specifying the location of the data to import.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    A new H2OFrame</span>
<span class="sd">  &quot;&quot;&quot;</span>

<span class="nd">@h2o_deprecated</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">parse</span><span class="p">():</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  External use of parse is deprecated. parse has been renamed H2OFrame._parse for internal</span>
<span class="sd">  use.</span>

<span class="sd">  Parameters</span>
<span class="sd">  ----------</span>
<span class="sd">  setup : dict</span>
<span class="sd">    The result of calling parse_setup.</span>

<span class="sd">  Returns</span>
<span class="sd">  -------</span>
<span class="sd">    A new H2OFrame</span>
<span class="sd">  &quot;&quot;&quot;</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, H2O.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>